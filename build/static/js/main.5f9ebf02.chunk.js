(this.webpackJsonprff_project_front=this.webpackJsonprff_project_front||[]).push([[0],{131:function(e,t,a){},17:function(e,t,a){},215:function(e,t,a){e.exports=a(369)},225:function(e,t,a){},226:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){},343:function(e,t,a){},344:function(e,t,a){},369:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(46),i=a.n(c),l=a(10),s=a(4),o=a.n(s),u=a(8),m=a(16),d=a(51),p=a(21),h=a(49),f=a(126),E=a(125),v=a(204),b=a(33),g=a(34),N=a(203),k=a(6),y=a(83),w=a(84),S=a(13),D=a.n(S),j=function(){function e(t){Object(y.a)(this,e),this.state={username:t.username,role:t.role,id:t.id,active:t.active,removable:t.removable}}return Object(w.a)(e,[{key:"getUsername",value:function(){return this.state.username}},{key:"getRole",value:function(){return this.state.role}},{key:"getId",value:function(){return this.state.id}},{key:"getActive",value:function(){return this.state.active}},{key:"getRemovable",value:function(){return this.state.removable}}]),e}();j.propTypes={username:D.a.string,role:D.a.string,id:D.a.string,active:D.a.bool,removable:D.a.bool};var C=j,O={user:null},I=function(){return function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"loginFailure"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"loginSuccess",user:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"loginSuccess":return Object(m.a)({},e,{user:new C(t.user)});case"loginFailure":return Object(m.a)({},e);case"logout":return Object(m.a)({},O);default:return e}},L=(a(225),{repository:{url:"https://github.com/RedFoxFinn/rff-project",name:"rff-demo-project"},theme:"light",application:"Home",notification:null}),P=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"switchApplication",application:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},U=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"setNotification",notification:{type:"error",message:e}}),setTimeout((function(){a({type:"resetNotification"})}),4e3);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"setNotification",notification:{type:"info",message:e}}),setTimeout((function(){a({type:"resetNotification"})}),4e3);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fu":return Object(m.a)({},e);case"switchApplication":return Object(m.a)({},e,{application:t.application});case"switchTheme":return Object(m.a)({},e,{theme:t.theme});case"setNotification":return Object(m.a)({},e,{notification:t.notification});case"resetNotification":return Object(m.a)({},e,{notification:null});default:return e}},q=function(e,t){if("dark"===e)switch(t){case"news":return"newsDa";case"tableCell":return"tableCellDa";case"table":return"tableDa";case"tableRow":return"tableRowDa";case"navMenu":return"navMenuDa";case"navSubMenu":return"navSubMenuDa";case"navButton":return"navButtonDa";case"navSubButton":return"navSubButtonDa";case"navContent":return"navContentDa";case"navSubContent":return"navSubContentDa";case"heading":return"headingDa";case"formElement":case"calculateElement":return"formElementDa";case"calculateResult":return"calculateResultDa";case"technologyElement":return"technologyElementDa";case"text":return"textDa";case"loginButton":return"loginButtonDa";case"loginContent":return"loginContentDa";case"loginMenu":return"loginMenuDa";case"link":return"linkDa";case"description":return"descriptionDa";case"countrySearch":return"searchElementDa";case"countrySearchCancel":return"searchCancelDa";case"countryDetails":return"countryDetailsDa";case"dishyElement":return"dishyElementDa";case"stopContainer":return"stopContainer";case"stopDetails":return"stopDetailsDa";case"linkButton":return"linkButtonDa";case"notificationInfo":return"notificationInfoDa";case"notificationError":return"notificationErrorDa";case"notificationNull":return"notificationNullDa";case"tile":return"tile";case"tileDescription":return"tileDescriptionDa";case"tileLoading":return"tileLoading";case"tileError":return"tileError";case"dashTile":return"dashTile";case"listHeader":return"listHeaderDa";case"listDescription":return"listDescriptionDa";case"task":return"taskDa";case"selector":return"selectorDa";case"selected":return"selectedDa";case"activator":return"activatorDa";case"deactivator":return"deactivatorDa";case"field":return"fieldDa";case"noteArea":return"noteAreaDa";default:return""}else switch(t){case"news":return"newsLi";case"tableCell":return"tableCellLi";case"table":return"tableLi";case"tableRow":return"tableRowLi";case"navMenu":return"navMenuLi";case"navSubMenu":return"navSubMenuLi";case"navButton":return"navButtonLi";case"navSubButton":return"navSubButtonLi";case"navContent":return"navContentLi";case"navSubContent":return"navSubContentLi";case"heading":return"headingLi";case"formElement":case"calculateElement":return"formElementLi";case"calculateResult":return"calculateResultLi";case"technologyElement":return"technologyElementLi";case"text":return"textLi";case"loginButton":return"loginButtonLi";case"loginContent":return"loginContentLi";case"loginMenu":return"loginMenuLi";case"link":return"linkLi";case"description":return"descriptionLi";case"countrySearch":return"searchElementLi";case"countrySearchCancel":return"searchCancelLi";case"countryDetails":return"countryDetailsLi";case"dishyElement":return"dishyElementLi";case"stopContainer":return"stopContainer";case"stopDetails":return"stopDetailsLi";case"linkButton":return"linkButtonLi";case"notificationInfo":return"notificationInfoLi";case"notificationError":return"notificationErrorLi";case"notificationNull":return"notificationNullLi";case"tile":return"tile";case"tileDescription":return"tileDescriptionLi";case"tileLoading":return"tileLoading";case"tileError":return"tileError";case"listHeader":return"listHeaderLi";case"listDescription":return"listDescriptionLi";case"task":return"taskLi";case"selector":return"selectorLi";case"selected":return"selectedLi";case"activator":return"activatorLi";case"deactivator":return"deactivatorLi";case"field":return"fieldLi";case"noteArea":return"noteAreaLi";default:return""}},A=(a(226),a(17),a(1)),R=a(2),B=a.n(R);function G(){var e=Object(A.a)(["\n  fragment UserDetails on User {\n    username\n    role\n    removable\n    active\n    id\n  }\n"]);return G=function(){return e},e}var F=B()(G());function Q(){var e=Object(A.a)(["\n  query me($token: String!) {\n    me(token: $token) {\n      ...UserDetails\n    }\n  }\n  ","\n"]);return Q=function(){return e},e}var J=B()(Q(),F),W=a(7),H=a(14),z={switchApp:P,switchTheme:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:localStorage.setItem("rffTheme",e),a({type:"switchTheme",theme:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},logout:function(){return function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"logout"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},loginSuccess:x,handleError:U,handleInfo:T},_=Object(l.b)((function(e){return{appState:e.appState,loginState:e.loginState}}),z)((function(e){Object(W.a)();var t=["light","dark"],a=e.appState.theme,c=localStorage.getItem("rffTheme");Object(n.useEffect)((function(){null!==c&&e.switchTheme(c)}),[]);var i=function(){return r.a.createElement("div",{className:q(a,"navSubMenu")},r.a.createElement("button",{id:"rffTheme",className:q(a,"navSubButton")},r.a.createElement("strong",null,e.appState.theme)," theme selected"),r.a.createElement("div",{className:q(a,"navSubContent")},t.map((function(t){return r.a.createElement("a",{key:t,onClick:function(){return e.switchTheme(t)}},t)}))))};return r.a.createElement("div",{className:"navRow"},r.a.createElement((function(){return r.a.createElement("div",{className:q(a,"navMenu")},r.a.createElement("button",{id:"rffMenu",className:q(a,"navButton")},"Menu"),r.a.createElement("div",{className:q(a,"navContent")},r.a.createElement(p.b,{to:"/",onClick:function(){return e.switchApp("Home")}},"Home"),r.a.createElement(p.b,{to:"/dashboard",onClick:function(){return e.switchApp("Dashboard")}},"Dashboard"),r.a.createElement(p.b,{to:"/calculate",onClick:function(){return e.switchApp("Calculate")}},"Calculate"),r.a.createElement(p.b,{to:"/countries",onClick:function(){return e.switchApp("OpenCountry")}},"OpenCountry"),r.a.createElement(p.b,{to:"/dishy",onClick:function(){return e.switchApp("Dishy")}},"Dishy"),e.loginState.user&&r.a.createElement(p.b,{to:"/tasker",onClick:function(){return e.switchApp("Tasker")}},"Tasker"),r.a.createElement(p.b,{to:"/transit",onClick:function(){return e.switchApp("Transporter")}},"Transporter"),e.loginState.user&&("admin"===e.loginState.user.getRole()||"owner"===e.loginState.user.getRole())&&r.a.createElement(p.b,{to:"/admin",onClick:function(){return e.switchApp("Admin tools")}},"Admin tools"),r.a.createElement(p.b,{to:"/about",onClick:function(){return e.switchApp("About")}},"About"),r.a.createElement(i,null)))}),null),r.a.createElement((function(){var t=e.appState.notification;return t&&"info"===t.type?r.a.createElement("div",{className:"commonElements"},r.a.createElement("h4",{id:"notification",className:q(a,"notificationInfo")},t.message)):t&&"error"===t.type?r.a.createElement("div",{className:"commonElements"},r.a.createElement("h4",{id:"notification",className:q(a,"notificationError")},t.message)):r.a.createElement("div",{className:"commonElements"},r.a.createElement("h4",{id:"notification",className:q(a,"notificationNull")}," "))}),null),r.a.createElement((function(){return localStorage.getItem("rffUserToken")?r.a.createElement("div",{className:q(a,"navMenu")},r.a.createElement("button",{id:"rffUsermenu",type:"button",className:q(a,"navButton")},null!==e.loginState.user?e.loginState.user.getUsername():null),r.a.createElement("div",{className:q(a,"navContent")},r.a.createElement(p.b,{id:"rffUsersettings",to:"/user",title:"settings",onClick:function(){return e.switchApp("UserSettings")}},"Settings"),r.a.createElement(p.b,{id:"rffLogout",to:"/",title:"logout",onClick:function(){return e.logout(),localStorage.removeItem("rffUserToken"),e.handleInfo("logged out"),void e.switchApp("Home")}},"Logout"))):r.a.createElement("div",{className:q(a,"loginMenu")},r.a.createElement(p.b,{id:"rffLogin",to:"/login",title:"login",onClick:function(){return e.switchApp("Login")}},"Login"))}),null))})),V=Object(l.b)((function(e){return{theme:e.appState.theme,countries:e.countryState.countries}}))((function(e){return r.a.createElement("div",{className:"tile"},r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement((function(){return r.a.createElement("p",{className:q(e.theme,"tileDescription")},r.a.createElement("strong",null,e.countries.length)," countries information available")}),null))))}));function Y(){var e=Object(A.a)(["\n  query groupCount($token: String!, $mode: String) {\n    groupCount(token: $token, mode: $mode)\n  }\n"]);return Y=function(){return e},e}var K=B()(Y()),X=Object(l.b)((function(e){return{appState:e.appState}}))((function(e){var t=localStorage.getItem("rffUserToken").substring(7);return r.a.createElement("div",{className:"tile"},r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},"admin"!==e.mode?r.a.createElement((function(){var a=Object(W.c)(K,{variables:{token:t}}),n=a.data,c=a.error;return a.loading?r.a.createElement("p",{className:q(e.appState.theme,"tileLoading")},"loading group count"):c?r.a.createElement("p",{className:q(e.appState.theme,"tileError")},"error occurred while loading group count"):1===n.groupCount?r.a.createElement("p",{className:q(e.appState.theme,"tileDescription")},r.a.createElement("strong",null,n.groupCount)," group accessible"):r.a.createElement("p",{className:q(e.appState.theme,"tileDescription")},r.a.createElement("strong",null,n.groupCount)," groups accessible")}),null):r.a.createElement((function(){var a=Object(W.c)(K,{variables:{token:t,mode:"admin"}}),n=a.data,c=a.error;return a.loading?r.a.createElement("p",{className:q(e.appState.theme,"tileLoading")},"loading group count"):c?r.a.createElement("p",{className:q(e.appState.theme,"tileError")},"error occurred while loading group count"):r.a.createElement("p",{className:q(e.appState.theme,"tileDescription")},r.a.createElement("strong",null,"all ",n.groupCount)," groups accessible")}),null))))}));function Z(){var e=Object(A.a)(["\n  query allListCount($token: String!) {\n    allListCount(token: $token)\n  }\n"]);return Z=function(){return e},e}var ee=B()(Z());function te(){var e=Object(A.a)(["\n  query listCount($token: String!) {\n    listCount(token: $token)\n  }\n"]);return te=function(){return e},e}var ae=B()(te()),ne=Object(l.b)((function(e){return{appState:e.appState}}))((function(e){var t=localStorage.getItem("rffUserToken").substring(7);return r.a.createElement("div",{className:"tile"},r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},"admin"!==e.mode?r.a.createElement((function(){var a=Object(W.c)(ae,{variables:{token:t}}),n=a.data,c=a.error;return a.loading?r.a.createElement("p",{className:q(e.appState.theme,"tileLoading")},"loading task list count"):c?r.a.createElement("p",{className:q(e.appState.theme,"tileError")},"error occurred while loading task list count"):n?1===n.listCount?r.a.createElement("p",{className:q(e.appState.theme,"tileDescription")},r.a.createElement("strong",null,n.listCount)," task list accessible"):r.a.createElement("p",{className:q(e.appState.theme,"tileDescription")},r.a.createElement("strong",null,n.listCount)," task lists accessible"):void 0}),null):r.a.createElement((function(){var a=Object(W.c)(ee,{variables:{token:t}}),n=a.data,c=a.error;return a.loading?r.a.createElement("p",{className:q(e.appState.theme,"tileLoading")},"loading task list count"):c?r.a.createElement("p",{className:q(e.appState.theme,"tileError")},"error occurred while loading task list count"):r.a.createElement("p",{className:q(e.appState.theme,"tileDescription")},r.a.createElement("strong",null,n.allListCount)," task lists in database")}),null))))}));function re(){var e=Object(A.a)(["\n  query taskCount($token: String!, $countType: String!) {\n    taskCount(token: $token, countType: $countType)\n  }\n"]);return re=function(){return e},e}var ce=B()(re());function ie(){var e=Object(A.a)(["\n  query allTaskCount($token: String!) {\n    allTaskCount(token: $token)\n  }\n"]);return ie=function(){return e},e}var le=B()(ie()),se=Object(l.b)((function(e){return{appState:e.appState}}))((function(e){var t=localStorage.getItem("rffUserToken").substring(7);return r.a.createElement("div",{className:"tile"},r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},"admin"!==e.mode?r.a.createElement((function(){var a=Object(W.c)(ce,{variables:{token:t,countType:"total"}}),n=a.data,c=a.error;return a.loading?r.a.createElement("p",{className:q(e.appState.theme,"tileLoading")},"loading task count"):c?r.a.createElement("p",{className:q(e.appState.theme,"tileError")},"error occurred while loading task count"):1===n.taskCount?r.a.createElement("p",{className:q(e.appState.theme,"tileDescription")},r.a.createElement("strong",null,n.taskCount)," task listed in accessible lists"):r.a.createElement("p",{className:q(e.appState.theme,"tileDescription")},r.a.createElement("strong",null,n.taskCount)," tasks listed in accessible lists")}),null):r.a.createElement((function(){var a=Object(W.c)(le,{variables:{token:t}}),n=a.data,c=a.error;return a.loading?r.a.createElement("p",{className:q(e.appState.theme,"tileLoading")},"loading task count"):c?r.a.createElement("p",{className:q(e.appState.theme,"tileError")},"error occurred while loading task count"):r.a.createElement("p",{className:q(e.appState.theme,"tileDescription")},r.a.createElement("strong",null,n.allTaskCount)," tasks listed in the database")}),null))))}));function oe(){var e=Object(A.a)(["\n  query {\n    dishCount\n  }\n"]);return oe=function(){return e},e}var ue=B()(oe()),me=Object(l.b)((function(e){return{appState:e.appState}}))((function(e){var t=Object(W.c)(ue),a=t.data,n=t.error,c=t.loading;return r.a.createElement("div",{className:"tile"},r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement((function(){return c?r.a.createElement("p",{className:q(e.appState.theme,"tileLoading")},"loading dish count"):n?r.a.createElement("p",{className:q(e.appState.theme,"tileError")},"error occurred while loading dish count"):1===a.dishCount?r.a.createElement("p",{className:q(e.appState.theme,"tileDescription")},r.a.createElement("strong",null,a.dishCount)," dish available"):r.a.createElement("p",{className:q(e.appState.theme,"tileDescription")},r.a.createElement("strong",null,a.dishCount)," dishes available")}),null))))}));function de(){var e=Object(A.a)(["\n  query {\n    carbCount\n  }\n"]);return de=function(){return e},e}var pe=B()(de());function he(){var e=Object(A.a)(["\n  query {\n    proteinCount\n  }\n"]);return he=function(){return e},e}var fe=B()(he());function Ee(){var e=Object(A.a)(["\n  query {\n    spiceCount\n  }\n"]);return Ee=function(){return e},e}var ve=B()(Ee()),be=Object(l.b)((function(e){return{appState:e.appState}}))((function(e){var t=Object(W.c)(pe),a=Object(W.c)(fe),n=Object(W.c)(ve),c=0;return r.a.createElement("div",{className:"tile"},r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement((function(){return t.loading||a.loading||n.loading?r.a.createElement("p",{className:q(e.appState.theme,"tileLoading")},"loading ingredient count"):t.data&&a.data&&n.data?1===(c=t.data.carbCount+a.data.proteinCount+n.data.spiceCount)?r.a.createElement("p",{className:q(e.appState.theme,"tileDescription")},r.a.createElement("strong",null,c)," ingredient available"):r.a.createElement("p",{className:q(e.appState.theme,"tileDescription")},r.a.createElement("strong",null,c)," ingredients available"):r.a.createElement("p",{className:q(e.appState.theme,"tileError")},"error occurred while loading ingredient count")}),null))))}));function ge(){var e=Object(A.a)(["\n  query {\n    methodCount\n  }\n"]);return ge=function(){return e},e}var Ne=B()(ge()),ke=Object(l.b)((function(e){return{appState:e.appState}}))((function(e){var t=Object(W.c)(Ne),a=t.data,n=t.error,c=t.loading;return r.a.createElement("div",{className:"tile"},r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement((function(){return c?r.a.createElement("p",{className:q(e.appState.theme,"tileLoading")},"loading cooking method count"):n?r.a.createElement("p",{className:q(e.appState.theme,"tileError")},"error occurred while loading cooking method count"):1===a.methodCount?r.a.createElement("p",{className:q(e.appState.theme,"tileDescription")},r.a.createElement("strong",null,a.methodCount)," cooking method available"):r.a.createElement("p",{className:q(e.appState.theme,"tileDescription")},r.a.createElement("strong",null,a.methodCount)," cooking methods available")}),null))))})),ye=Object(l.b)((function(e){return{appState:e.appState}}))((function(e){return r.a.createElement("div",{className:"tile"},r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement((function(){return r.a.createElement("p",{className:q(e.appState.theme,"tileDescription")},r.a.createElement("strong",null,0)," stops timetables tracked")}),null))))}));function we(){var e=Object(A.a)(["\n  query userCount($token: String!) {\n    userCount(token: $token)\n  }\n"]);return we=function(){return e},e}var Se=B()(we()),De=Object(l.b)((function(e){return{appState:e.appState}}))((function(e){var t=Object(W.c)(Se,{variables:{token:localStorage.getItem("rffUserToken").substring(7)}});return r.a.createElement("div",{className:"tile"},r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement((function(){return"admin"!==e.mode?null:t.loading?r.a.createElement("p",{className:q(e.appState.theme,"tileLoading")},"loading user count"):t.error?r.a.createElement("p",{className:q(e.appState.theme,"tileError")},"error occurred while loading data"):t.data?1===t.data.userCount?r.a.createElement("p",{className:q(e.appState.theme,"tileDescription")},"application has ",r.a.createElement("strong",null,t.data.userCount)," user"):r.a.createElement("p",{className:q(e.appState.theme,"tileDescription")},"application has ",r.a.createElement("strong",null,t.data.userCount)," users"):void 0}),null))))}));function je(){var e=Object(A.a)(["\n  fragment NewsDetails on News {\n    content\n    category\n    id\n  }\n"]);return je=function(){return e},e}var Ce=B()(je());function Oe(){var e=Object(A.a)(["\n  query news {\n    news {\n      ...NewsDetails\n    }\n  }\n  ","\n"]);return Oe=function(){return e},e}var Ie=B()(Oe(),Ce),xe=a(172),$e=a.n(xe),Le=a(173),Pe=a.n(Le);function Ue(){var e=Object(A.a)(["\n  mutation addNews($token: String!, $content: String!, $category: String!) {\n    addNews(token: $token, content: $content, category: $category) {\n      ...NewsDetails\n    }\n  }\n  ","\n"]);return Ue=function(){return e},e}var Te=B()(Ue(),Ce);function Me(){var e=Object(A.a)(["\n  mutation removeNews($token: String!, $id: String!) {\n    removeNews(token: $token, id: $id) {\n      ...NewsDetails\n    }\n  }\n  ","\n"]);return Me=function(){return e},e}var qe=B()(Me(),Ce);function Ae(){var e=Object(A.a)(["\n  subscription {\n    newsAdded {\n      ...NewsDetails\n    }\n  }\n  ","\n"]);return Ae=function(){return e},e}var Re=B()(Ae(),Ce);function Be(){var e=Object(A.a)(["\n  subscription {\n    newsUpdated {\n      ...NewsDetails\n    }\n  }\n  ","\n"]);return Be=function(){return e},e}var Ge=B()(Be(),Ce);function Fe(){var e=Object(A.a)(["\n  subscription {\n    newsRemoved {\n      ...NewsDetails\n    }\n  }\n  ","\n"]);return Fe=function(){return e},e}var Qe=B()(Fe(),Ce),Je={handleInfo:T,handleError:U},We=Object(l.b)((function(e){return{theme:e.appState.theme}}),Je)((function(e){var t,a=Object(W.a)();Object(W.d)(Re,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.newsAdded;s("added",t)}}),Object(W.d)(Ge,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.newsUpdated;s("updated",t)}}),Object(W.d)(Qe,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.newsRemoved;s("removed",t)}});var n=Object(W.c)(Ie),c=n.data,i=n.error,l=n.loading,s=function(){var t=Object(u.a)(o.a.mark((function t(n,r){var c,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=function(e,t){return e.map((function(e){return e.id})).includes(t.id)},t.next=3,a.readQuery({query:Ie});case 3:i=t.sent,t.t0=n,t.next="added"===t.t0?7:"updated"===t.t0?12:"removed"===t.t0?17:22;break;case 7:if(c(i.news,r)){t.next=11;break}return t.next=10,a.writeQuery({query:Ie,data:{news:i.news.concat(r)}});case 10:e.handleInfo("News added: ".concat(r.content));case 11:return t.abrupt("break",23);case 12:if(!c(i.news,r)){t.next=16;break}return t.next=15,a.writeQuery({query:Ie,data:{news:i.news.map((function(e){return e.id===r.id?r:e}))}});case 15:e.handleInfo("News updated: ".concat(r.content));case 16:return t.abrupt("break",23);case 17:if(!c(i.news,r)){t.next=21;break}return t.next=20,a.writeQuery({query:Ie,data:{news:i.news.forEach((function(e){if(e.id!==r.id)return e}))}});case 20:e.handleInfo("News removed: ".concat(r.content));case 21:case 22:return t.abrupt("break",23);case 23:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),m=function(){var n=Object(u.a)(o.a.mark((function n(r){var c,i,l;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=r.id,i=r.content,l={token:t,id:c},n.next=4,a.mutate({mutation:qe,errorPolicy:"ignore",variables:l}).then((function(t){var a=t.data;null!==a?s("removed",a.removeNews):e.handleError("Error occurred with task: cannot remove ".concat(i))}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=Object(u.a)(o.a.mark((function n(){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={token:t,content:document.getElementById("addNewsContent").value,category:document.getElementById("addNewsCategory").value},n.next=3,a.mutate({mutation:Te,errorPolicy:"ignore",variables:r}).then((function(t){var a=t.data;null!==a?(s("added",a.addNews),document.getElementById("addNewsContent").value="",document.getElementById("addNewsCategory").value=""):e.handleError("Error occurred with news: cannot add ".concat(r.content))}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=function(t){var a=t.news;return r.a.createElement("tr",{className:q(e.theme,"tableRow")},r.a.createElement("td",{className:q(e.theme,"tableCell")},a.content),r.a.createElement("td",{className:q(e.theme,"tableCell")},a.category),r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("button",{title:"remove news",className:q(e.theme,"deactivator"),onClick:function(){return m(a)}},r.a.createElement(H.InlineIcon,{icon:Pe.a}))))},h=function(){return r.a.createElement("tr",{className:q(e.theme,"tableRow")},r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("input",{id:"addNewsContent",type:"text",required:!0,minLength:4,placeholder:"news content",className:q(e.theme,"formElement")})),r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("input",{id:"addNewsCategory",type:"text",required:!0,minLength:3,placeholder:"news category",className:q(e.theme,"formElement")})),r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("button",{title:"save news",className:q(e.theme,"activator"),onClick:function(){return d()}},r.a.createElement(H.InlineIcon,{icon:$e.a}))))};return r.a.createElement(r.a.Fragment,null,i&&r.a.createElement((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:q(e.theme,"description")},"News:"),r.a.createElement("p",{className:q(e.theme,"tileError")},"Error occurred"))}),null),l&&r.a.createElement((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:q(e.theme,"description")},"News:"),r.a.createElement("p",{className:q(e.theme,"tileLoading")},"loading . . ."))}),null),c&&r.a.createElement((function(){var a=c.news;return"admin"===e.mode?(t=localStorage.getItem("rffUserToken").substring(7),a.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:q(e.theme,"description")},"Manage news:"),r.a.createElement("table",{className:q(e.theme,"table")},r.a.createElement("thead",null,r.a.createElement("tr",{className:q(e.theme,"tableRow")},r.a.createElement("th",{className:q(e.theme,"tableCell")},"content"),r.a.createElement("th",{className:q(e.theme,"tableCell")},"category"),r.a.createElement("th",{className:q(e.theme,"tableCell")}," "))),r.a.createElement("tbody",null,a.map((function(e){return r.a.createElement(p,{key:e.id,news:e})})),r.a.createElement(h,null)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:q(e.theme,"description")},"Manage news:"),r.a.createElement("p",{className:q(e.theme,"news")},"no news"))):a.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:q(e.theme,"description")},"News:"),r.a.createElement("ul",null,a.map((function(t){return r.a.createElement("li",{key:t.id,className:q(e.theme,"news")},t.content)})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:q(e.theme,"description")},"News:"),r.a.createElement("p",{className:q(e.theme,"news")},"no news"))}),null))})),He=a(174),ze=a.n(He),_e=a(69),Ve=a.n(_e);function Ye(){var e=Object(A.a)(["\n  query users($token: String!, $active: Boolean, $username: String, $role: String) {\n    users(token: $token, active: $active, username: $username, role: $role) {\n      ...UserDetails\n    }\n  }\n  ","\n"]);return Ye=function(){return e},e}var Ke=B()(Ye(),F);function Xe(){var e=Object(A.a)(["\n  mutation activateUser($token: String!, $id: String!) {\n    activateUser(token: $token, id: $id) {\n      ...UserDetails\n    }\n  }\n  ","\n"]);return Xe=function(){return e},e}var Ze=B()(Xe(),F);function et(){var e=Object(A.a)(["\n  mutation deactivateUser($token: String!, $id: String!) {\n    deactivateUser(token: $token, id: $id) {\n      ...UserDetails\n    }\n  }\n  ","\n"]);return et=function(){return e},e}var tt=B()(et(),F);function at(){var e=Object(A.a)(["\n  mutation updateUser($token: String!, $newUsername: String, $newPassword: String, $password: String!) {\n    updateUser(newUsername: $newUsername, newPassword: $newPassword, token: $token, password: $password) {\n      ...UserDetails\n    }\n  }\n  ","\n"]);return at=function(){return e},e}var nt=B()(at(),F);function rt(){var e=Object(A.a)(["\n  mutation removeUser($token: String!, $id: String!) {\n    removeUser(token: $token, id: $id) {\n      ...UserDetails\n    }\n  }\n  ","\n"]);return rt=function(){return e},e}var ct=B()(rt(),F);function it(){var e=Object(A.a)(["\n  mutation demoteUser($token: String!, $id: String!) {\n    demoteUser(token: $token, id: $id) {\n      ...UserDetails\n    }\n  }\n  ","\n"]);return it=function(){return e},e}var lt=B()(it(),F);function st(){var e=Object(A.a)(["\n  mutation promoteUser($token: String!, $id: String!) {\n    promoteUser(token: $token, id: $id) {\n      ...UserDetails\n    }\n  }\n  ","\n"]);return st=function(){return e},e}var ot=B()(st(),F);function ut(){var e=Object(A.a)(["\n  subscription {\n    userAdded {\n      ...UserDetails\n    }\n  }\n  ","\n"]);return ut=function(){return e},e}var mt=B()(ut(),F);function dt(){var e=Object(A.a)(["\n  subscription {\n    userUpdated {\n      ...UserDetails\n    }\n  }\n  ","\n"]);return dt=function(){return e},e}var pt=B()(dt(),F);function ht(){var e=Object(A.a)(["\n  subscription {\n    userRemoved {\n      ...UserDetails\n    }\n  }\n  ","\n"]);return ht=function(){return e},e}var ft=B()(ht(),F),Et={handleInfo:T,handleError:U},vt=Object(l.b)((function(e){return{theme:e.appState.theme,currentUser:e.loginState.user}}),Et)((function(e){var t=localStorage.getItem("rffUserToken").substring(7),a=Object(W.a)(),n=Object(W.c)(Ke,{variables:{token:t}}),c=n.data,i=n.error,l=n.loading,s=n.refetch;Object(W.d)(mt,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.userAdded;m("added",t)}}),Object(W.d)(pt,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.userUpdated;m("updated",t)}}),Object(W.d)(ft,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.userRemoved;m("removed",t)}});var m=function(){var n=Object(u.a)(o.a.mark((function n(r,c){var i,l;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(e,t){return e.map((function(e){return e.id})).includes(t.id)},n.next=3,a.readQuery({query:Ke,variables:{token:t}});case 3:l=n.sent,n.t0=r,n.next="added"===n.t0?7:"updated"===n.t0?12:"removed"===n.t0?17:22;break;case 7:if(i(l.users,c)){n.next=11;break}return n.next=10,s();case 10:e.handleInfo("User added: ".concat(c.username));case 11:return n.abrupt("break",23);case 12:if(!i(l.users,c)){n.next=16;break}return n.next=15,s();case 15:e.handleInfo("User updated: ".concat(c.username));case 16:return n.abrupt("break",23);case 17:if(!i(l.users,c)){n.next=21;break}return n.next=20,s();case 20:e.handleInfo("User removed: ".concat(c.username));case 21:case 22:return n.abrupt("break",23);case 23:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),d=function(){var n=Object(u.a)(o.a.mark((function n(r){var c,i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=r.id,i={token:t,id:c},n.next=4,a.mutate({mutation:ct,variables:i}).then((function(t){var a=t.data,n=t.errors;null!==a?m("removed",a.removeUser):e.handleError(n[0].message)}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=function(){var n=Object(u.a)(o.a.mark((function n(r){var c,i,l;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=r.id,i=r.active,l={token:t,id:c},n.next=4,a.mutate({mutation:i?tt:Ze,variables:l}).then((function(t){var a=t.data,n=t.errors;null!==a?m("added",i?a.deactivateUser:a.activateUser):e.handleError(n[0].message)}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=function(){var n=Object(u.a)(o.a.mark((function n(r){var c,i,l;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=r.id,i=r.role,l={token:t,id:c},n.t0="owner"!==i,!n.t0){n.next=6;break}return n.next=6,a.mutate({mutation:"user"===i?ot:lt,variables:l}).then((function(t){var a=t.data,n=t.errors;null!==a?m("updated","user"===i?a.promoteUser:a.demoteUser):e.handleError(n[0].message)}));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(t){var a=t.user;return r.a.createElement("tr",{className:q(e.theme,"tableRow")},r.a.createElement("td",{className:q(e.theme,"tableCell")},a.username),r.a.createElement("td",{className:q(e.theme,"tableCell")},a.role),"owner"!==a.role&&e.currentUser.getId()!==a.id?r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("button",{title:"user"===a.role?"promote":"demote",id:"".concat(a.id,"-roleButton"),onClick:function(){return h(a)},className:"user"===a.role?q(e.theme,"activator"):q(e.theme,"deactivator")},r.a.createElement(H.InlineIcon,{icon:Ve.a}))):r.a.createElement("td",{className:q(e.theme,"tableCell")}," "),r.a.createElement("td",{className:q(e.theme,"tableCell")},a.active?"true":"false"),e.currentUser.getId()!==a.id&&r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("button",{title:a.active?"deactivate":"activate",id:"".concat(a.id,"-activatorButton"),className:a.active?q(e.theme,"deactivator"):q(e.theme,"activator"),onClick:function(){return p(a)}},r.a.createElement(H.InlineIcon,{icon:Ve.a}))),a.removable&&r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("button",{title:"remove user",id:"".concat(a.id,"-removeButton"),className:q(e.theme,"deactivator"),onClick:function(){return d(a)}},r.a.createElement(H.InlineIcon,{icon:ze.a}))))};return e.show?r.a.createElement(r.a.Fragment,null,i&&r.a.createElement((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:q(e.theme,"description")},"News:"),r.a.createElement("p",{className:q(e.theme,"tileError")},"Error occurred"))}),null),l&&r.a.createElement((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:q(e.theme,"description")},"News:"),r.a.createElement("p",{className:q(e.theme,"tileLoading")},"loading . . ."))}),null),c&&r.a.createElement((function(){var t=c.users;return t.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:q(e.theme,"description")},"Manage users:"),r.a.createElement("table",{className:q(e.theme,"table")},r.a.createElement("thead",null,r.a.createElement("tr",{className:q(e.theme,"tableRow")},r.a.createElement("th",{className:q(e.theme,"tableCell")},"username"),r.a.createElement("th",{className:q(e.theme,"tableCell")},"role"),r.a.createElement("th",{className:q(e.theme,"tableCell")},"change role"),r.a.createElement("th",{className:q(e.theme,"tableCell")},"activated"),r.a.createElement("th",{className:q(e.theme,"tableCell")},"change status"),r.a.createElement("th",{className:q(e.theme,"tableCell")}," "))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement(f,{key:e.id,user:e})}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:q(e.theme,"description")},"Manage news:"),r.a.createElement("p",{className:q(e.theme,"news")},"no news"))}),null)):null})),bt=a(175),gt=a.n(bt),Nt=a(176),kt=a.n(Nt);function yt(){var e=Object(A.a)(["\n  fragment GroupDetails on Group {\n    title\n    active\n    removable\n    creator {\n      username\n    }\n    id\n  }\n"]);return yt=function(){return e},e}var wt=B()(yt());function St(){var e=Object(A.a)(["\n  query allGroups($token: String!) {\n    allGroups(token: $token) {\n      ...GroupDetails\n    }\n  }\n  ","\n"]);return St=function(){return e},e}var Dt=B()(St(),wt);function jt(){var e=Object(A.a)(["\n  mutation addGroup($token: String!, $title: String!) {\n    addGroup(token: $token, title: $title) {\n      ...GroupDetails\n    }\n  }\n  ","\n"]);return jt=function(){return e},e}var Ct=B()(jt(),wt);function Ot(){var e=Object(A.a)(["\n  mutation updateGroup($token: String!, $id: String!, $title: String, $active: Boolean) {\n    updateGroup(token: $token, id: $id, title: $title, active: $active) {\n      ...GroupDetails\n    }\n  }\n  ","\n"]);return Ot=function(){return e},e}B()(Ot(),wt);function It(){var e=Object(A.a)(["\n  mutation removeGroup($token: String!, $id: String!) {\n    removeGroup(token: $token, id: $id) {\n      ...GroupDetails\n    }\n  }\n  ","\n"]);return It=function(){return e},e}var xt=B()(It(),wt);function $t(){var e=Object(A.a)(["\n  mutation activateGroup($token: String!, $id: String!) {\n    activateGroup(token: $token, id: $id) {\n      ...GroupDetails\n    }\n  }\n  ","\n"]);return $t=function(){return e},e}var Lt=B()($t(),wt);function Pt(){var e=Object(A.a)(["\n  mutation deactivateGroup($token: String!, $id: String!) {\n    deactivateGroup(token: $token, id: $id) {\n      ...GroupDetails\n    }\n  }\n  ","\n"]);return Pt=function(){return e},e}var Ut=B()(Pt(),wt);function Tt(){var e=Object(A.a)(["\n  subscription {\n    groupAdded {\n      ...GroupDetails\n    }\n  }\n  ","\n"]);return Tt=function(){return e},e}var Mt=B()(Tt(),wt);function qt(){var e=Object(A.a)(["\n  subscription {\n    groupUpdated {\n      ...GroupDetails\n    }\n  }\n  ","\n"]);return qt=function(){return e},e}var At=B()(qt(),wt);function Rt(){var e=Object(A.a)(["\n  subscription {\n    groupRemoved {\n      ...GroupDetails\n    }\n  }\n  ","\n"]);return Rt=function(){return e},e}var Bt=B()(Rt(),wt),Gt={handleInfo:T,handleError:U},Ft=Object(l.b)((function(e){return{theme:e.appState.theme,user:e.loginState.user}}),Gt)((function(e){var t=localStorage.getItem("rffUserToken").substring(7),a=Object(W.a)(),n=Object(W.c)(Dt,{variables:{token:t}}),c=n.data,i=n.error,l=n.loading,s=n.refetch;Object(W.d)(Mt,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.groupAdded;m("added",t)}}),Object(W.d)(At,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.groupUpdated;m("updated",t)}}),Object(W.d)(Bt,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.groupRemoved;m("removed",t)}});var m=function(){var n=Object(u.a)(o.a.mark((function n(r,c){var i,l;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(e,t){return e.map((function(e){return e.id})).includes(t.id)},n.next=3,a.readQuery({query:Dt,variables:{token:t}});case 3:l=n.sent,n.t0=r,n.next="added"===n.t0?7:"updated"===n.t0?12:"removed"===n.t0?17:22;break;case 7:if(i(l.allGroups,c)){n.next=11;break}return n.next=10,s();case 10:e.handleInfo("Group added: ".concat(c.title));case 11:return n.abrupt("break",23);case 12:if(!i(l.allGroups,c)){n.next=16;break}return n.next=15,s();case 15:e.handleInfo("Group updated: ".concat(c.title));case 16:return n.abrupt("break",23);case 17:if(!i(l.allGroups,c)){n.next=21;break}return n.next=20,s();case 20:e.handleInfo("Group removed: ".concat(c.title));case 21:case 22:return n.abrupt("break",23);case 23:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),d=function(){var n=Object(u.a)(o.a.mark((function n(){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={token:t,title:document.getElementById("addGroupTitle").value},n.next=3,a.mutate({mutation:Ct,errorPolicy:"ignore",variables:r}).then((function(t){var a=t.data;null!==a?(m("added",a.addGroup),document.getElementById("addGroupTitle").value=""):e.handleError("Error occurred with group: cannot create ".concat(r.title))}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=function(){var n=Object(u.a)(o.a.mark((function n(r){var c,i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=r.id,i={token:t,id:c},n.next=4,a.mutate({mutation:xt,variables:i}).then((function(t){var a=t.data,n=t.errors;null!==a?m("removed",a.removeGroup):e.handleError(n[0].message)}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=function(){var n=Object(u.a)(o.a.mark((function n(r){var c,i,l;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=r.id,i=r.active,l={token:t,id:c},n.next=4,a.mutate({mutation:i?Ut:Lt,variables:l}).then((function(t){var a=t.data,n=t.errors;null!==a?m("updated",i?a.deactivateGroup:a.activateGroup):e.handleError(n[0].message)}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(t){var a=t.group;return r.a.createElement("tr",{id:a.id,className:q(e.theme,"tableRow")},r.a.createElement("td",{id:a.id+":title",className:q(e.theme,"tableCell")},a.title),r.a.createElement("td",{id:a.id+":status",className:q(e.theme,"tableCell")},a.active?"true":"false"),r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("button",{title:a.active?"deactivate":"activate",id:"".concat(a.id,"-statusButton"),onClick:function(){return h(a)},className:a.active?q(e.theme,"deactivator"):q(e.theme,"activator")},r.a.createElement(H.InlineIcon,{icon:Ve.a}))),a.removable&&r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("button",{id:"".concat(a.id,"-removeButton"),title:"remove group",className:q(e.theme,"deactivator"),onClick:function(){return p(a)}},r.a.createElement(H.InlineIcon,{icon:gt.a}))))},E=function(){return r.a.createElement("tr",{className:q(e.theme,"tableRow")},r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("input",{id:"addGroupTitle",type:"text",required:!0,minLength:3,placeholder:"group title",className:q(e.theme,"formElement")})),r.a.createElement("td",{className:q(e.theme,"tableCell")}," "),r.a.createElement("td",{className:q(e.theme,"tableCell")}," "),r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("button",{id:"saveGroup",title:"save group",className:q(e.theme,"activator"),onClick:function(){return d()}},r.a.createElement(H.InlineIcon,{icon:kt.a}))))};return"admin"===e.user.getRole()||"owner"===e.user.getRole()?r.a.createElement(r.a.Fragment,null,i&&r.a.createElement((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:q(e.theme,"description")},"Groups:"),r.a.createElement("p",{className:q(e.theme,"tileError")},"Error occurred"))}),null),l&&r.a.createElement((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:q(e.theme,"description")},"Groups:"),r.a.createElement("p",{className:q(e.theme,"tileLoading")},"loading . . ."))}),null),c&&r.a.createElement((function(){var t=c.allGroups;return t.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:q(e.theme,"description")},"Manage groups:"),r.a.createElement("table",{className:q(e.theme,"table")},r.a.createElement("thead",null,r.a.createElement("tr",{className:q(e.theme,"tableRow")},r.a.createElement("th",{className:q(e.theme,"tableCell")},"title"),r.a.createElement("th",{className:q(e.theme,"tableCell")},"active"),r.a.createElement("th",{className:q(e.theme,"tableCell")},"change status"),r.a.createElement("th",{className:q(e.theme,"tableCell")}," "))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement(f,{key:e.id,group:e})})),r.a.createElement(E,null)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:q(e.theme,"description")},"Manage groups:"),r.a.createElement("p",{className:q(e.theme,"news")},"no groups"))}),null)):null})),Qt=Object(l.b)((function(e){return{appState:e.appState,user:e.loginState.user}}))((function(e){return e.show?r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"commonElements"},r.a.createElement("h4",{className:q(e.appState.theme,"heading")},"App statistics:"),r.a.createElement((function(){return r.a.createElement("div",{className:"appWidgets"},r.a.createElement(V,null),r.a.createElement(me,null),r.a.createElement(be,null),r.a.createElement(ke,null))}),null),r.a.createElement((function(){return r.a.createElement("div",{className:"appWidgets"},r.a.createElement(ne,{mode:"admin"}),r.a.createElement(se,{mode:"admin"}),r.a.createElement(X,{mode:"admin"}),r.a.createElement(De,{mode:"admin"}),r.a.createElement(ye,{mode:"admin"}))}),null),r.a.createElement(We,{mode:"admin"}),r.a.createElement(vt,{show:"admin"===e.user.getRole()||"owner"===e.user.getRole()}),r.a.createElement(Ft,null))):r.a.createElement(d.a,{push:!0,to:"/"})})),Jt=(a(131),Object(l.b)((function(e){return{appState:e.appState}}))((function(e){return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement("h4",{className:q(e.appState.theme,"heading")},"Used color palette:"),r.a.createElement("div",{className:"appElements"},r.a.createElement("div",{className:"peru"}),r.a.createElement("div",{className:"gainsboro"}),r.a.createElement("div",{className:"darkslategrey"}),r.a.createElement("div",{className:"yellowgreen"}),r.a.createElement("div",{className:"reactblue"}),r.a.createElement("div",{className:"slateblue"}),r.a.createElement("div",{className:"deeppink"})),r.a.createElement("div",{className:"appElements"},r.a.createElement("div",{className:"seagreen"}),r.a.createElement("div",{className:"googleblue"}),r.a.createElement("div",{className:"googlered"}),r.a.createElement("div",{className:"googleyellow"}),r.a.createElement("div",{className:"googlegreen"}),r.a.createElement("div",{className:"amazonorange"}),r.a.createElement("div",{className:"heroku"})),r.a.createElement("div",{className:"appElements"},r.a.createElement("div",{className:"bus"}),r.a.createElement("div",{className:"citybike"}),r.a.createElement("div",{className:"tram"}),r.a.createElement("div",{className:"train"}),r.a.createElement("div",{className:"metro"}),r.a.createElement("div",{className:"jokerilightrail"}),r.a.createElement("div",{className:"ferry"})),r.a.createElement("div",{className:"appElements"},r.a.createElement("div",{className:"hslpink"}),r.a.createElement("div",{className:"hslpinklight"}),r.a.createElement("div",{className:"hslgreen"}),r.a.createElement("div",{className:"hslgreenlight"}),r.a.createElement("div",{className:"hslwarning"}),r.a.createElement("div",{className:"hslhighlight"}),r.a.createElement("div",{className:"ferrylight"})),r.a.createElement("div",{className:"appElements"},r.a.createElement("div",{className:"hslblue"}),r.a.createElement("div",{className:"digitransit"}),r.a.createElement("div",{className:"dgray"}),r.a.createElement("div",{className:"gray"}),r.a.createElement("div",{className:"lgray"}),r.a.createElement("div",{className:"vlgray"}),r.a.createElement("div",{className:"jbamber"})),r.a.createElement("div",{className:"appElements"},r.a.createElement("div",{className:"jbsiena"}),r.a.createElement("div",{className:"jbcrimson"}),r.a.createElement("div",{className:"jbcarmine"}),r.a.createElement("div",{className:"jbfuchsia"}),r.a.createElement("div",{className:"jbmauve"}),r.a.createElement("div",{className:"jblilac"}),r.a.createElement("div",{className:"jbpurple"})),r.a.createElement("div",{className:"appElements"},r.a.createElement("div",{className:"jbskyblue"}),r.a.createElement("div",{className:"jbgreen"}),r.a.createElement("div",{className:"jblemon"}),r.a.createElement("div",{className:"slackblue"}),r.a.createElement("div",{className:"slackgreen"}),r.a.createElement("div",{className:"slackyellow"}),r.a.createElement("div",{className:"slackred"}))))}))),Wt=a(177),Ht=a.n(Wt),zt=a(178),_t=a.n(zt),Vt=a(118),Yt=a.n(Vt),Kt=a(179),Xt=a.n(Kt),Zt=a(119),ea=a.n(Zt),ta=a(180),aa=a.n(ta),na=a(181),ra=a.n(na),ca=a(182),ia=a.n(ca),la=a(183),sa=a.n(la),oa=a(184),ua=a.n(oa),ma=a(185),da=a.n(ma),pa=a(186),ha=a.n(pa),fa=a(187),Ea=a.n(fa),va=a(188),ba=a.n(va),ga=a(189),Na=a.n(ga),ka=a(190),ya=a.n(ka),wa=(a(229),Object(l.b)((function(e){return{appState:e.appState}}))((function(e){var t=[{name:"React.js",url:"https://reactjs.org/",icon:r.a.createElement(H.InlineIcon,{icon:_t.a})},{name:"Redux.js",url:"https://redux.js.org/",icon:r.a.createElement(H.InlineIcon,{icon:Ht.a})},{name:"GraphQL",url:"https://graphql.org/",icon:r.a.createElement(H.InlineIcon,{icon:Yt.a})},{name:"Apollo-client",url:"https://www.apollographql.com/docs/react/",icon:r.a.createElement(H.InlineIcon,{icon:ea.a})}],a=[{name:"Node.js",url:"https://nodejs.org/en/",icon:r.a.createElement(H.InlineIcon,{icon:Xt.a})},{name:"Express.js",url:"https://expressjs.com/",icon:r.a.createElement(H.InlineIcon,{icon:aa.a})},{name:"mongoose.js",url:"https://mongoosejs.com/",icon:""},{name:"JWT",url:"https://jwt.io/",icon:""},{name:"bcrypt",url:"https://github.com/kelektiv/node.bcrypt.js",icon:""},{name:"GraphQL",url:"https://graphql.org/",icon:r.a.createElement(H.InlineIcon,{icon:Yt.a})},{name:"Apollo-server",url:"https://www.apollographql.com/docs/apollo-server/",icon:r.a.createElement(H.InlineIcon,{icon:ea.a})}],n=[{name:"MongoDB - Atlas",url:"https://www.mongodb.com/cloud/atlas",icon:r.a.createElement(H.InlineIcon,{icon:ia.a})},{name:"HSL API",url:"https://digitransit.fi/en/developers/apis/1-routing-api/",icon:""}],c=[{name:"Jest",url:"https://jestjs.io/",icon:r.a.createElement(H.InlineIcon,{icon:Na.a})},{name:"EasyGraphQL",url:"https://easygraphql.com/",icon:""},{name:"cypress",url:"https://www.cypress.io/",icon:r.a.createElement(H.InlineIcon,{icon:ra.a})}],i=[{name:"npm",url:"https://www.npmjs.com/",icon:r.a.createElement(H.InlineIcon,{icon:sa.a})},{name:"git",url:"https://git-scm.com/",icon:r.a.createElement(H.InlineIcon,{icon:ua.a})},{name:"GitHub",url:"https://github.com/",icon:r.a.createElement(H.InlineIcon,{icon:da.a})},{name:"WebStorm",url:"https://www.jetbrains.com/webstorm/",icon:r.a.createElement(H.InlineIcon,{icon:ha.a})},{name:"Chrome",url:"https://www.google.com/intl/en_en/chrome/",icon:r.a.createElement(H.InlineIcon,{icon:Ea.a})},{name:"Postman",url:"https://www.getpostman.com/",icon:r.a.createElement(H.InlineIcon,{icon:ba.a})},{name:"Altair",url:"https://altair.sirmuel.design/",icon:r.a.createElement(H.InlineIcon,{icon:ya.a})}];return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement("h4",{className:q(e.appState.theme,"heading")},"Repository:"),r.a.createElement((function(){var t=e.appState.repository;return r.a.createElement("a",{className:q(e.appState.theme,"technologyElement"),href:t.url},t.icon," ",t.name)}),null),r.a.createElement("h4",{className:q(e.appState.theme,"heading")},"Used technology stack:"),r.a.createElement("h4",{className:q(e.appState.theme,"heading")},"Frontend"),r.a.createElement((function(){return t.map((function(t){return r.a.createElement("a",{className:q(e.appState.theme,"technologyElement"),href:t.url},t.icon," ",t.name)}))}),null),r.a.createElement("h4",{className:q(e.appState.theme,"heading")},"Backend"),r.a.createElement((function(){return a.map((function(t){return r.a.createElement("a",{className:q(e.appState.theme,"technologyElement"),href:t.url},t.icon," ",t.name)}))}),null),r.a.createElement("h4",{className:q(e.appState.theme,"heading")},"Database & API"),r.a.createElement((function(){return n.map((function(t){return r.a.createElement("a",{className:q(e.appState.theme,"technologyElement"),href:t.url},t.icon," ",t.name)}))}),null),r.a.createElement("h4",{className:q(e.appState.theme,"heading")},"Testing"),r.a.createElement((function(){return c.map((function(t){return r.a.createElement("a",{className:q(e.appState.theme,"technologyElement"),href:t.url},t.icon," ",t.name)}))}),null),r.a.createElement("h4",{className:q(e.appState.theme,"heading")},"Development tools"),r.a.createElement((function(){return i.map((function(t){return r.a.createElement("a",{className:q(e.appState.theme,"technologyElement"),href:t.url},t.icon," ",t.name)}))}),null)))}))),Sa=Object(l.b)((function(e){return{appState:e.appState}}))((function(e){return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement("h4",{className:q(e.appState.theme,"heading")},"Other styles:"),r.a.createElement("div",{className:"appElements"},r.a.createElement("a",{className:q(e.appState.theme,"link"),href:"https://fonts.google.com/specimen/Raleway"},"Font: Raleway"))))})),Da=Object(l.b)((function(e){return{appState:e.appState}}))((function(e){return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement(wa,null),r.a.createElement(Jt,null),r.a.createElement(Sa,null)))})),ja=a(24),Ca=a(35),Oa=a.n(Ca),Ia=(a(230),a(90),Object(l.b)((function(e){return{appState:e.appState}}))((function(e){var t=Object(n.useState)(0),a=Object(ja.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(0),s=Object(ja.a)(l,2),o=s[0],u=s[1],m=function(){var t=Number(c)+Number(o);return r.a.createElement("div",{className:q(e.appState.theme,"calculateResult")},r.a.createElement("p",null,"Addition"),r.a.createElement("p",null,c," + ",o," = ",r.a.createElement("strong",null,t)))},d=function(){var t=Oa()(Number(c)-Number(o)).format({thousandSeparated:!0,trimMantissa:!0,mantissa:4});return r.a.createElement("div",{className:q(e.appState.theme,"calculateResult")},r.a.createElement("p",null,"Subtraction"),r.a.createElement("p",null,c," - ",o," = ",r.a.createElement("strong",null,t)))},p=function(){if(0===Number(o))return r.a.createElement("div",{className:q(e.appState.theme,"calculateResult")},r.a.createElement("p",null,"Division"),r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Division_by_zero"}," nope "));var t=Oa()(Number(c)/Number(o)).format({thousandSeparated:!0,trimMantissa:!0,mantissa:4});return r.a.createElement("div",{className:q(e.appState.theme,"calculateResult")},r.a.createElement("p",null,"Division"),r.a.createElement("p",null,c," / ",o," ","\u2243"," ",r.a.createElement("strong",null,t)))},h=function(){var t=Oa()(Number(c)*Number(o)).format({thousandSeparated:!0,trimMantissa:!0,mantissa:4});return r.a.createElement("div",{className:q(e.appState.theme,"calculateResult")},r.a.createElement("p",null,"Multiplication"),r.a.createElement("p",null,c," * ",o," ","\u2243"," ",r.a.createElement("strong",null,t)))},f=function(){var t=Oa()(Math.pow(Number(c),2)).format({thousandSeparated:!0,trimMantissa:!0,mantissa:4}),a=Oa()(Math.pow(Number(o),2)).format({thousandSeparated:!0,trimMantissa:!0,mantissa:4}),n=Oa()(Math.pow(Number(c),Number(o))).format({thousandSeparated:!0,trimMantissa:!0,mantissa:4});return r.a.createElement("div",{className:q(e.appState.theme,"calculateResult")},r.a.createElement("p",null,"Exponentiation"),r.a.createElement("p",null,c," ^ 2 ","\u2243"," ",r.a.createElement("strong",null,t)),r.a.createElement("p",null,o," ^ 2 ","\u2243"," ",r.a.createElement("strong",null,a)),r.a.createElement("p",null,c," ^ ",o," ","\u2243"," ",r.a.createElement("strong",null,n)))},E=function(){var t=Oa()(Math.pow(Number(c),3)).format({thousandSeparated:!0,trimMantissa:!0,mantissa:4}),a=Oa()(Math.pow(Number(o),3)).format({thousandSeparated:!0,trimMantissa:!0,mantissa:4});return r.a.createElement("div",{className:q(e.appState.theme,"calculateResult")},r.a.createElement("p",null,"Cube"),r.a.createElement("p",null,c," ^ 3 ","\u2243"," ",r.a.createElement("strong",null,t)),r.a.createElement("p",null,o," ^ 3 ","\u2243"," ",r.a.createElement("strong",null,a)))},v=function(){var t=Oa()(Math.sqrt(Number(c))).format({thousandSeparated:!0,trimMantissa:!0,mantissa:4}),a=Oa()(Math.sqrt(Number(o))).format({thousandSeparated:!0,trimMantissa:!0,mantissa:4});return r.a.createElement("div",{className:q(e.appState.theme,"calculateResult")},r.a.createElement("p",null,"Square root"),r.a.createElement("p",null,"\u221a",c," ","\u2243"," ",r.a.createElement("strong",null,t)),r.a.createElement("p",null,"\u221a",o," ","\u2243"," ",r.a.createElement("strong",null,a)))},b=function(){var t=Oa()(Math.cbrt(Number(c))).format({thousandSeparated:!0,trimMantissa:!0,mantissa:4}),a=Oa()(Math.cbrt(Number(o))).format({thousandSeparated:!0,trimMantissa:!0,mantissa:4});return r.a.createElement("div",{className:q(e.appState.theme,"calculateResult")},r.a.createElement("p",null,"Cube root"),r.a.createElement("p",null,"\u221b",c," ","\u2243"," ",r.a.createElement("strong",null,t)),r.a.createElement("p",null,"\u221b",o," ","\u2243"," ",r.a.createElement("strong",null,a)))};return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"appElements"},r.a.createElement("input",{type:"number",placeholder:"numerical value",onChange:function(e){var t=e.target;return i(t.value)},className:q(e.appState.theme,"calculateElement")}),r.a.createElement("input",{type:"number",placeholder:"numerical value",onChange:function(e){var t=e.target;return u(t.value)},className:q(e.appState.theme,"calculateElement")})),r.a.createElement((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"appElements"},r.a.createElement(m,null),r.a.createElement(h,null),r.a.createElement(f,null),r.a.createElement(E,null)),r.a.createElement("div",{className:"appElements"},r.a.createElement(d,null),r.a.createElement(p,null),r.a.createElement(v,null),r.a.createElement(b,null)))}),null)))}))),xa=Object(l.b)((function(e){return{appState:e.appState,theme:e.appState.theme,user:e.loginState.user}}))((function(e){var t=[{app:"Calculate",link:"/calculate"},{app:"Dishy",link:"/dishy"},{app:"OpenCountry",link:"/countries"}],a=[{app:"Tasker",link:"/tasker"},{app:"Transporter",link:"/transit"}];return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement("h4",{className:q(e.appState.theme,"heading")},"Available applications:"),r.a.createElement((function(){return r.a.createElement("div",{className:"appWidgets"},t.map((function(t){return r.a.createElement("div",{key:"app:".concat(t.app),className:"dashTile"},r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement(p.b,{className:q(e.theme,"tileDescription"),push:!0,to:t.link},t.app))))})))}),null),e.user?r.a.createElement((function(){return r.a.createElement("div",{className:"appWidgets"},a.map((function(t){return r.a.createElement("div",{key:"app:".concat(t.app),className:"dashTile"},r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement(p.b,{className:q(e.theme,"tileDescription"),push:!0,to:t.link},t.app))))})))}),null):null,r.a.createElement("h4",{className:q(e.appState.theme,"heading")},"Statistics:"),r.a.createElement((function(){return r.a.createElement("div",{className:"appWidgets"},r.a.createElement(V,null),r.a.createElement(me,null),r.a.createElement(be,null),r.a.createElement(ke,null))}),null),e.user?r.a.createElement((function(){return r.a.createElement("div",{className:"appWidgets"},r.a.createElement(X,null),r.a.createElement(ne,null),r.a.createElement(se,null),r.a.createElement(ye,null))}),null):null))}));a(91);function $a(){var e=Object(A.a)(["\n  fragment IngredientDetails on Ingredient {\n    type\n    name\n    uses\n    id\n    addedBy {\n      username\n    }\n  }\n"]);return $a=function(){return e},e}var La=B()($a());function Pa(){var e=Object(A.a)(["\n  query {\n    allCarbs {\n      ...IngredientDetails\n    }\n  }\n  ","\n"]);return Pa=function(){return e},e}var Ua=B()(Pa(),La);function Ta(){var e=Object(A.a)(["\n  query {\n    allProteins {\n      ...IngredientDetails\n    }\n  }\n  ","\n"]);return Ta=function(){return e},e}var Ma=B()(Ta(),La);function qa(){var e=Object(A.a)(["\n  query {\n    allSpices {\n      ...IngredientDetails\n    }\n  }\n  ","\n"]);return qa=function(){return e},e}var Aa=B()(qa(),La);function Ra(){var e=Object(A.a)(["\n  fragment MethodDetails on CookingMethod {\n    name\n    uses\n    id\n    addedBy {\n      username\n    }\n  }\n"]);return Ra=function(){return e},e}var Ba=B()(Ra());function Ga(){var e=Object(A.a)(["\n  query {\n    allMethods {\n      ...MethodDetails\n    }\n  }\n  ","\n"]);return Ga=function(){return e},e}var Fa=B()(Ga(),Ba);function Qa(){var e=Object(A.a)(["\n    fragment DishIngredientDetails on Ingredient {\n        type\n        name\n        id\n    }\n"]);return Qa=function(){return e},e}var Ja=B()(Qa());function Wa(){var e=Object(A.a)(["\n    fragment DishMethodDetails on CookingMethod {\n        name\n        id\n    }\n"]);return Wa=function(){return e},e}var Ha=B()(Wa());function za(){var e=Object(A.a)(["\n  fragment DishDetails on Dish {\n    name\n    cookingMethods {\n        ...DishMethodDetails\n    }\n    proteins {\n        ...DishIngredientDetails\n    }\n    carbs {\n        ...DishIngredientDetails\n    }\n    spices {\n        ...DishIngredientDetails\n    }\n    karma\n    note\n    addedBy {\n      ...UserDetails\n    }\n    id\n  }\n  ","\n  ","\n  ","\n"]);return za=function(){return e},e}var _a=B()(za(),F,Ja,Ha);function Va(){var e=Object(A.a)(["\n  query {\n    allDishes {\n      ...DishDetails\n    }\n  }\n  ","\n"]);return Va=function(){return e},e}var Ya=B()(Va(),_a);function Ka(){var e=Object(A.a)(["\n  mutation addMethod($token: String!, $name: String!) {\n    addMethod(token: $token, name: $name) {\n      ...MethodDetails\n    }\n  }\n  ","\n"]);return Ka=function(){return e},e}var Xa=B()(Ka(),Ba);function Za(){var e=Object(A.a)(["\n  mutation addIngredient($token: String!, $name: String!, $type: String!) {\n    addIngredient(token: $token, name: $name, type: $type) {\n      ...IngredientDetails\n    }\n  }\n  ","\n"]);return Za=function(){return e},e}var en=B()(Za(),La);function tn(){var e=Object(A.a)(["\n  mutation addDish($token: String!, $name: String!, $cookingMethods: [String!]!,\n    $carbs: [String!]!, $proteins: [String!]!, $spices: [String!]!, $note: String!) {\n    addDish(token: $token, name: $name, cookingMethods: $cookingMethods,\n      carbs: $carbs, proteins: $proteins, spices: $spices, note: $note) {\n      ...DishDetails\n    }\n  }\n  ","\n"]);return tn=function(){return e},e}var an=B()(tn(),_a);function nn(){var e=Object(A.a)(["\n  subscription {\n    dishAdded {\n      ...DishDetails\n    }\n  }\n  ","\n"]);return nn=function(){return e},e}var rn=B()(nn(),_a);function cn(){var e=Object(A.a)(["\n  subscription {\n    dishUpdated {\n      ...DishDetails\n    }\n  }\n  ","\n"]);return cn=function(){return e},e}var ln=B()(cn(),_a);function sn(){var e=Object(A.a)(["\n  subscription {\n    dishRemoved {\n      ...DishDetails\n    }\n  }\n  ","\n"]);return sn=function(){return e},e}var on=B()(sn(),_a);function un(){var e=Object(A.a)(["\n  subscription {\n    dishVoted {\n      ...DishDetails\n    }\n  }\n  ","\n"]);return un=function(){return e},e}var mn=B()(un(),_a);function dn(){var e=Object(A.a)(["\n  subscription {\n    ingredientAdded {\n      ...IngredientDetails\n    }\n  }\n  ","\n"]);return dn=function(){return e},e}var pn=B()(dn(),La);function hn(){var e=Object(A.a)(["\n  subscription {\n    ingredientUpdated {\n      ...IngredientDetails\n    }\n  }\n  ","\n"]);return hn=function(){return e},e}var fn=B()(hn(),La);function En(){var e=Object(A.a)(["\n  subscription {\n    ingredientRemoved {\n      ...IngredientDetails\n    }\n  }\n  ","\n"]);return En=function(){return e},e}var vn=B()(En(),La);function bn(){var e=Object(A.a)(["\n  subscription {\n    methodAdded {\n      ...MethodDetails\n    }\n  }\n  ","\n"]);return bn=function(){return e},e}var gn=B()(bn(),Ba);function Nn(){var e=Object(A.a)(["\n  subscription {\n    methodUpdated {\n      ...MethodDetails\n    }\n  }\n  ","\n"]);return Nn=function(){return e},e}var kn=B()(Nn(),Ba);function yn(){var e=Object(A.a)(["\n  subscription {\n    methodRemoved {\n      ...MethodDetails\n    }\n  }\n  ","\n"]);return yn=function(){return e},e}var wn=B()(yn(),Ba),Sn=a(55),Dn={carbSearch:"",proteinSearch:"",spiceSearch:"",methodSearch:"",newDish:!1,newDishCarbs:[],newDishProteins:[],newDishSpices:[],newDishMethods:[]},jn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setCarbSearch":return Object(m.a)({},e,{carbSearch:t.carbSearch});case"setProteinSearch":return Object(m.a)({},e,{proteinSearch:t.proteinSearch});case"setSpiceSearch":return Object(m.a)({},e,{spiceSearch:t.spiceSearch});case"setMethodSearch":return Object(m.a)({},e,{methodSearch:t.methodSearch});case"setNewDish":return Object(m.a)({},e,{newDish:!0});case"setNewDishCarbs":return Object(m.a)({},e,{newDishCarbs:[].concat(Object(Sn.a)(e.newDishCarbs),[t.carb])});case"setNewDishProteins":return Object(m.a)({},e,{newDishProteins:[].concat(Object(Sn.a)(e.newDishProteins),[t.protein])});case"setNewDishSpices":return Object(m.a)({},e,{newDishSpices:[].concat(Object(Sn.a)(e.newDishSpices),[t.spice])});case"setNewDishMethods":return Object(m.a)({},e,{newDishMethods:[].concat(Object(Sn.a)(e.newDishMethods),[t.method])});case"resetNewDish":return Object(m.a)({},e,{newDish:!1,newDishCarbs:[],newDishProteins:[],newDishSpices:[],newDishMethods:[]});default:return e}},Cn={initDish:function(){return function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"setNewDish"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},resetDish:function(){return function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"resetNewDish"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},addDishCarb:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"setNewDishCarbs",carb:{name:e.name,id:e.id}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addDishProtein:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"setNewDishProteins",protein:{name:e.name,id:e.id}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addDishSpice:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"setNewDishSpices",spice:{name:e.name,id:e.id}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addDishMethod:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"setNewDishMethods",method:{name:e.name,id:e.id}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},handleInfo:T,handleError:U},On=Object(l.b)((function(e){return{theme:e.appState.theme,dishyState:e.dishyState,user:e.loginState.user}}),Cn)((function(e){var t=Object(W.a)(),a=Object(W.c)(Ua),c=Object(W.c)(Ma),i=Object(W.c)(Aa),l=Object(W.c)(Fa),s=Object(W.c)(Ya);Object(W.d)(rn,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.dishAdded;f("added",t)}}),Object(W.d)(ln,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.dishUpdated;f("updated",t)}}),Object(W.d)(mn,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.dishVoted;f("updated",t)}}),Object(W.d)(on,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.dishRemoved;f("removed",t)}}),Object(W.d)(pn,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.ingredientAdded;switch(t.type){case"carb":m("added",t);break;case"protein":d("added",t);break;case"spice":p("added",t)}}}),Object(W.d)(fn,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.ingredientUpdated;switch(t.type){case"carb":m("updated",t);break;case"protein":d("updated",t);break;case"spice":p("updated",t)}}}),Object(W.d)(vn,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.ingredientAdded;switch(t.type){case"carb":m("removed",t);break;case"protein":d("removed",t);break;case"spice":p("removed",t)}}}),Object(W.d)(gn,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.methodAdded;h("added",t)}}),Object(W.d)(kn,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.methodUpdated;h("updated",t)}}),Object(W.d)(wn,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.methodRemoved;h("removed",t)}});var m=function(){var a=Object(u.a)(o.a.mark((function a(n,r){var c,i;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=function(e,t){return e.map((function(e){return e.id})).includes(t.id)},a.next=3,t.readQuery({query:Ua});case 3:i=a.sent,a.t0=n,a.next="added"===a.t0?7:"updated"===a.t0?12:"removed"===a.t0?17:22;break;case 7:if(c(i.allCarbs,r)){a.next=11;break}return a.next=10,t.writeQuery({query:Ua,data:{allCarbs:i.allCarbs.concat(r)}});case 10:e.handleInfo("Carb added: ".concat(r.name));case 11:return a.abrupt("break",23);case 12:if(!c(i.allCarbs,r)){a.next=16;break}return a.next=15,t.writeQuery({query:Ua,data:{allCarbs:i.allCarbs.map((function(e){return e.id===r.id?r:e}))}});case 15:e.handleInfo("Carb updated: ".concat(r.name));case 16:return a.abrupt("break",23);case 17:if(!c(i.allCarbs,r)){a.next=21;break}return a.next=20,t.writeQuery({query:Ua,data:{allCarbs:i.allCarbs.forEach((function(e){if(e.id!==r.id)return e}))}});case 20:e.handleInfo("Carb removed: ".concat(r.name));case 21:case 22:return a.abrupt("break",23);case 23:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),d=function(){var a=Object(u.a)(o.a.mark((function a(n,r){var c,i;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=function(e,t){return e.map((function(e){return e.id})).includes(t.id)},a.next=3,t.readQuery({query:Ma});case 3:i=a.sent,a.t0=n,a.next="added"===a.t0?7:"updated"===a.t0?12:"removed"===a.t0?17:22;break;case 7:if(c(i.allProteins,r)){a.next=11;break}return a.next=10,t.writeQuery({query:Ma,data:{allProteins:i.allProteins.concat(r)}});case 10:e.handleInfo("Protein added: ".concat(r.name));case 11:return a.abrupt("break",23);case 12:if(!c(i.allProteins,r)){a.next=16;break}return a.next=15,t.writeQuery({query:Ma,data:{allProteins:i.allProteins.map((function(e){return e.id===r.id?r:e}))}});case 15:e.handleInfo("Protein updated: ".concat(r.name));case 16:return a.abrupt("break",23);case 17:if(!c(i.allProteins,r)){a.next=21;break}return a.next=20,t.writeQuery({query:Ma,data:{allProteins:i.allProteins.forEach((function(e){if(e.id!==r.id)return e}))}});case 20:e.handleInfo("Protein removed: ".concat(r.name));case 21:case 22:return a.abrupt("break",23);case 23:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),p=function(){var a=Object(u.a)(o.a.mark((function a(n,r){var c,i;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=function(e,t){return e.map((function(e){return e.id})).includes(t.id)},a.next=3,t.readQuery({query:Aa});case 3:i=a.sent,a.t0=n,a.next="added"===a.t0?7:"updated"===a.t0?12:"removed"===a.t0?17:22;break;case 7:if(c(i.allSpices,r)){a.next=11;break}return a.next=10,t.writeQuery({query:Aa,data:{allSpices:i.allSpices.concat(r)}});case 10:e.handleInfo("Spice added: ".concat(r.name));case 11:return a.abrupt("break",23);case 12:if(!c(i.allSpices,r)){a.next=16;break}return a.next=15,t.writeQuery({query:Aa,data:{allSpices:i.allSpices.map((function(e){return e.id===r.id?r:e}))}});case 15:e.handleInfo("Spice updated: ".concat(r.name));case 16:return a.abrupt("break",23);case 17:if(!c(i.allSpices,r)){a.next=21;break}return a.next=20,t.writeQuery({query:Aa,data:{allSpices:i.allSpices.forEach((function(e){if(e.id!==r.id)return e}))}});case 20:e.handleInfo("Spice removed: ".concat(r.name));case 21:case 22:return a.abrupt("break",23);case 23:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),h=function(){var a=Object(u.a)(o.a.mark((function a(n,r){var c,i;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=function(e,t){return e.map((function(e){return e.id})).includes(t.id)},a.next=3,t.readQuery({query:Fa});case 3:i=a.sent,a.t0=n,a.next="added"===a.t0?7:"updated"===a.t0?12:"removed"===a.t0?17:22;break;case 7:if(c(i.allMethods,r)){a.next=11;break}return a.next=10,t.writeQuery({query:Fa,data:{allMethods:i.allMethods.concat(r)}});case 10:e.handleInfo("Method added: ".concat(r.name));case 11:return a.abrupt("break",23);case 12:if(!c(i.allMethods,r)){a.next=16;break}return a.next=15,t.writeQuery({query:Fa,data:{allMethods:i.allMethods.map((function(e){return e.id===r.id?r:e}))}});case 15:e.handleInfo("Method updated: ".concat(r.name));case 16:return a.abrupt("break",23);case 17:if(!c(i.allMethods,r)){a.next=21;break}return a.next=20,t.writeQuery({query:Fa,data:{allMethods:i.allMethods.forEach((function(e){if(e.id!==r.id)return e}))}});case 20:e.handleInfo("Method removed: ".concat(r.name));case 21:case 22:return a.abrupt("break",23);case 23:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),f=function(){var a=Object(u.a)(o.a.mark((function a(n,r){var c,i;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=function(e,t){return e.map((function(e){return e.id})).includes(t.id)},a.next=3,t.readQuery({query:Ya});case 3:i=a.sent,a.t0=n,a.next="added"===a.t0?7:"updated"===a.t0?12:"removed"===a.t0?17:22;break;case 7:if(c(i.allDishes,r)){a.next=11;break}return a.next=10,t.writeQuery({query:Ya,data:{allDishes:i.allDishes.concat(r)}});case 10:e.handleInfo("Dish added: ".concat(r.name));case 11:return a.abrupt("break",23);case 12:if(!c(i.allDishes,r)){a.next=16;break}return a.next=15,t.writeQuery({query:Ya,data:{allDishes:i.allDishes.map((function(e){return e.id===r.id?r:e}))}});case 15:e.handleInfo("Dish updated: ".concat(r.name));case 16:return a.abrupt("break",23);case 17:if(!c(i.allDishes,r)){a.next=21;break}return a.next=20,t.writeQuery({query:Ya,data:{allDishes:i.allDishes.forEach((function(e){if(e.id!==r.id)return e}))}});case 20:e.handleInfo("Dish removed: ".concat(r.name));case 21:case 22:return a.abrupt("break",23);case 23:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),E=function(){return r.a.createElement("div",{className:"appWidgets"},r.a.createElement("div",{className:q(e.theme,"dishyElement")},r.a.createElement("p",{className:q(e.theme,"description")},"loading . . .")))},v=function(){return r.a.createElement("div",{className:"appWidgets"},r.a.createElement("div",{className:q(e.theme,"dishyElement")},r.a.createElement("p",{className:q(e.theme,"description")},"something went wrong . . .")))},b=function(t){var a=t.type;return r.a.createElement("div",{className:"appWidgets"},r.a.createElement("div",{className:q(e.theme,"dishyElement")},r.a.createElement("p",{className:q(e.theme,"description")},"no ",a," available")))};function g(t,a,n){t.preventDefault();var r=e.dishyState,c=r.newDishCarbs,i=r.newDishProteins,l=r.newDishSpices,s=r.newDishMethods;switch(e.dishyState.newDish||e.initDish(),n){case"carb":!c.filter((function(e){return e.id===a.id})).length>0&&e.addDishCarb(a);break;case"protein":!i.filter((function(e){return e.id===a.id})).length>0&&e.addDishProtein(a);break;case"spice":!l.filter((function(e){return e.id===a.id})).length>0&&e.addDishSpice(a);break;case"method":!s.filter((function(e){return e.id===a.id})).length>0&&e.addDishMethod(a)}}var N=function(){var a=Object(u.a)(o.a.mark((function a(n){var r,c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,localStorage.getItem("rffUserToken").substring(7);case 2:r=a.sent,a.t0=n,a.next="carb"===a.t0?6:"protein"===a.t0?8:"spice"===a.t0?10:"method"===a.t0?12:14;break;case 6:return c={token:r,type:n,name:document.getElementById("newCarbName").value},a.abrupt("break",16);case 8:return c={token:r,type:n,name:document.getElementById("newProteinName").value},a.abrupt("break",16);case 10:return c={token:r,type:n,name:document.getElementById("newSpiceName").value},a.abrupt("break",16);case 12:return c={token:r,name:document.getElementById("newMethodName").value},a.abrupt("break",16);case 14:return c=null,a.abrupt("break",16);case 16:if(null===c||!c.token){a.next=19;break}return a.next=19,t.mutate({mutation:"method"===n?Xa:en,variables:c,errorPolicy:"ignore"}).then((function(t){var a=t.data;if(null!==a)switch(n){case"carb":m("added",a.addIngredient);break;case"protein":d("added",a.addIngredient);break;case"spice":p("added",a.addIngredient);break;case"method":h("added",a.addMethod);break;default:c=null}else e.handleError("Error occurred with ".concat(n,": cannot add ").concat(c.name))}));case 19:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),k=function(e){switch(e.selection){case"carb":return r.a.createElement(S,null);case"method":return r.a.createElement(D,null);case"protein":return r.a.createElement(w,null);case"spice":return r.a.createElement(y,null);default:return null}},y=function(){return r.a.createElement("div",{className:"newComponent"},r.a.createElement("input",{type:"text",id:"newSpiceName",placeholder:"spice name",minLength:2,required:!0,className:q(e.theme,"field")}),r.a.createElement("button",{type:"button",onClick:function(){return N("spice")},id:"saveSpice",className:q(e.theme,"activator")},"Save spice"))},w=function(){return r.a.createElement("div",{className:"newComponent"},r.a.createElement("input",{type:"text",id:"newProteinName",placeholder:"protein name",minLength:2,required:!0,className:q(e.theme,"field")}),r.a.createElement("button",{type:"button",onClick:function(){return N("protein")},id:"saveProtein",className:q(e.theme,"activator")},"Save protein"))},S=function(){return r.a.createElement("div",{className:"newComponent"},r.a.createElement("input",{type:"text",id:"newCarbName",placeholder:"carb name",minLength:2,required:!0,className:q(e.theme,"field")}),r.a.createElement("button",{type:"button",onClick:function(){return N("carb")},id:"saveCarb",className:q(e.theme,"activator")},"Save carb"))},D=function(){return r.a.createElement("div",{className:"newComponent"},r.a.createElement("input",{type:"text",id:"newMethodName",placeholder:"method name",minLength:2,required:!0,className:q(e.theme,"field")}),r.a.createElement("button",{type:"button",onClick:function(){return N("method")},id:"saveMethod",className:q(e.theme,"activator")},"Save method"))},j=function(){var a=Object(u.a)(o.a.mark((function a(){var n,r,c,i,l,s,u;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.dishyState,r=n.newDishMethods,c=n.newDishProteins,i=n.newDishCarbs,l=n.newDishSpices,!n.newDish){a.next=9;break}return a.next=4,localStorage.getItem("rffUserToken").substring(7);case 4:if(s=a.sent,!(u={token:s(),name:document.getElementById("newDishName").value,note:document.getElementById("newDishNote").value,cookingMethods:r.map((function(e){return e.id})),proteins:c.map((function(e){return e.id})),carbs:i.map((function(e){return e.id})),spices:l.map((function(e){return e.id}))}).token){a.next=9;break}return a.next=9,t.mutate({mutation:an,variables:u,errorPolicy:"ignore"}).then((function(t){null!==t.data?(C(),e.handleInfo("New dish saved: ".concat(u.name))):e.handleError("Error occurred with dish: cannot add ".concat(u.name))}));case 9:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),C=function(){document.getElementById("newDishName").value="",document.getElementById("newDishNote").value="",e.resetDish()},O=function(t){var a=t.view,n=t.carbs,c=t.proteins,i=t.spices,l=t.methods,s=t.note,o=t.name;return"random"===a?r.a.createElement("div",{className:"dish"},r.a.createElement("p",{id:"dishName",className:q(e.theme,"text")},o),r.a.createElement("p",{id:"dishNote",className:q(e.theme,"text")},s),r.a.createElement("div",{className:"componentContainer"},r.a.createElement(I,{id:"dishCarbs",type:"carb",components:n,viewType:a}),r.a.createElement(I,{id:"dishProteins",type:"protein",components:c,viewType:a}),r.a.createElement(I,{id:"dishSpices",type:"spice",components:i,viewType:a}),r.a.createElement(I,{id:"dishMethods",type:"method",components:l,viewType:a}))):"new"===a?r.a.createElement("div",{className:"dish"},r.a.createElement("input",{className:q(e.theme,"noteArea"),placeholder:"dish name",type:"text",id:"newDishName"}),r.a.createElement("input",{type:"text",className:q(e.theme,"noteArea"),placeholder:"description, steps, etc.",id:"newDishNote"}),r.a.createElement("div",{className:"componentContainer"},r.a.createElement(I,{id:"newDishCarbs",type:"carb",components:n,viewType:a}),r.a.createElement(I,{id:"newDishProteins",type:"protein",components:c,viewType:a}),r.a.createElement(I,{id:"newDishSpices",type:"spice",components:i,viewType:a}),r.a.createElement(I,{id:"newDishMethods",type:"method",components:l,viewType:a}))):r.a.createElement("div",{className:"dish"},r.a.createElement("p",{id:"dishName",className:q(e.theme,"text")},o),r.a.createElement("p",{id:"dishNote",className:q(e.theme,"text")},s),r.a.createElement("div",{className:"componentContainer"},r.a.createElement(I,{id:"dishCarbs",type:"carb",components:n,viewType:a}),r.a.createElement(I,{id:"dishProteins",type:"protein",components:c,viewType:a}),r.a.createElement(I,{id:"dishSpices",type:"spice",components:i,viewType:a}),r.a.createElement(I,{id:"dishMethods",type:"method",components:l,viewType:a})))},I=function(t){var a=t.type,n=t.components;t.viewType;return n.length>0?r.a.createElement("div",{className:"components"},"carb"===a&&r.a.createElement("h4",{className:q(e.theme,"text")},"Carbs:"),"protein"===a&&r.a.createElement("h4",{className:q(e.theme,"text")},"Proteins:"),"spice"===a&&r.a.createElement("h4",{className:q(e.theme,"text")},"Spices:"),"method"===a&&r.a.createElement("h4",{className:q(e.theme,"text")},"Cooking methods:"),n.map((function(e){return r.a.createElement(x,{key:e.name,component:e,type:a,view:"plain"})}))):r.a.createElement("div",{className:"components"},"carb"===a&&r.a.createElement("p",{className:q(e.theme,"text")},"no carbs"),"protein"===a&&r.a.createElement("p",{className:q(e.theme,"text")},"no proteins"),"spice"===a&&r.a.createElement("p",{className:q(e.theme,"text")},"no spices"),"method"===a&&r.a.createElement("p",{className:q(e.theme,"text")},"no cooking methods"))},x=function(t){var a=t.component,n=t.view;if(e.dishyState.newDish&&"new"===n)return r.a.createElement("div",{className:"component"},r.a.createElement("p",{className:q(e.theme,"text")},a.name));if("random"===n||"plain"===n)return r.a.createElement("div",{className:"component"},r.a.createElement("p",{className:q(e.theme,"text")},a.name));var c=a.uses.length;return r.a.createElement("div",{className:"component"},r.a.createElement("p",{className:q(e.theme,"text")},a.name),r.a.createElement("p",{className:q(e.theme,"text")},c>1?"used in ".concat(c," dishes"):1===c?"used in 1 dish":"no usage"))};return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement("h4",{className:q(e.theme,"heading")},"Suggested:"),r.a.createElement((function(){if(s.loading)return r.a.createElement(E,null);if(s.data&&s.data.allDishes){var e=s.data.allDishes.length;if(0===e)return r.a.createElement(b,{type:"dishes"});if(1===e){var t=s.data.allDishes[0],a=t.cookingMethods,n=t.carbs,c=t.spices,i=t.proteins,l=t.note,o=t.name;return r.a.createElement("div",{id:"recommendationSection",className:"componentContainer"},r.a.createElement(O,{id:"recommendedDish",view:"random",methods:a,carbs:n,spices:c,proteins:i,note:l,name:o}))}var u=Math.floor(Math.random()*Math.floor(s.data.allDishes.length)),m=s.data.allDishes[u],d=m.cookingMethods,p=m.carbs,h=m.spices,f=m.proteins,g=m.note,N=m.name;return r.a.createElement("div",{id:"recommendationSection",className:"componentContainer"},r.a.createElement(O,{id:"recommendedDish",view:"random",methods:d,carbs:p,spices:h,proteins:f,note:g,name:N}))}return r.a.createElement(v,null)}),{id:"randomDish"}),r.a.createElement("h4",{className:q(e.theme,"heading")},"Dishes:"),r.a.createElement((function(){var t=Object(n.useState)(null),a=Object(ja.a)(t,2),c=a[0],i=a[1];return s.loading?r.a.createElement(E,null):s.data&&s.data.allDishes?0===s.data.allDishes.length?r.a.createElement(b,{type:"dishes"}):r.a.createElement("div",{id:"dishSection",className:"componentContainer"},r.a.createElement("div",{className:"dish"},r.a.createElement("select",{id:"dishSelector",defaultValue:"default",className:q(e.theme,"formElement"),onChange:function(e){var t=e.target;return i(JSON.parse(t.value))}},r.a.createElement("option",{key:"default",value:"default",disabled:!0},"dishes"),s.data.allDishes.map((function(e){return r.a.createElement("option",{key:e.id,value:JSON.stringify(e)},e.name)}))),c&&r.a.createElement("div",{className:"componentContainer"},r.a.createElement(O,{id:"selectedDish",methods:c.cookingMethods,carbs:c.carbs,spices:c.spices,proteins:c.proteins,note:c.note,name:c.name})))):r.a.createElement(v,null)}),{id:"dishes"}),r.a.createElement("h4",{className:q(e.theme,"heading")},"Carbs:"),r.a.createElement((function(){var t=Object(n.useState)(null),c=Object(ja.a)(t,2),i=c[0],l=c[1];return a.loading?r.a.createElement(E,null):a.data&&a.data.allCarbs?a.data.allCarbs.length>0?r.a.createElement("div",{id:"carbSection",className:"componentContainer"},r.a.createElement("div",{className:"dish"},r.a.createElement("select",{id:"carbSelector",defaultValue:"default",className:q(e.theme,"formElement"),onChange:function(e){var t=e.target;return l(JSON.parse(t.value))}},r.a.createElement("option",{key:"default",value:"default",disabled:!0},"carbs"),a.data.allCarbs.map((function(e){return r.a.createElement("option",{key:e.id,value:JSON.stringify(e)},e.name)}))),i&&r.a.createElement("div",{className:"componentContainer"},r.a.createElement(x,{id:"selectedCarb",type:"carb",component:i}),"advanced"===e.show&&r.a.createElement("button",{className:q(e.theme,"activator"),onClick:function(e){return g(e,i,"carb")}},"add to new dish")))):r.a.createElement(b,{type:"carbs"}):r.a.createElement(v,null)}),{id:"carbs"}),r.a.createElement("h4",{className:q(e.theme,"heading")},"Proteins:"),r.a.createElement((function(){var t=Object(n.useState)(null),a=Object(ja.a)(t,2),i=a[0],l=a[1];return c.loading?r.a.createElement(E,null):c.data&&c.data.allProteins?c.data.allProteins.length>0?r.a.createElement("div",{id:"proteinSection",className:"componentContainer"},r.a.createElement("div",{className:"dish"},r.a.createElement("select",{id:"proteinSelector",defaultValue:"default",className:q(e.theme,"formElement"),onChange:function(e){var t=e.target;return l(JSON.parse(t.value))}},r.a.createElement("option",{key:"default",value:"default",disabled:!0},"proteins"),c.data.allProteins.map((function(e){return r.a.createElement("option",{key:e.id,value:JSON.stringify(e)},e.name)}))),i&&r.a.createElement("div",{className:"componentContainer"},r.a.createElement(x,{id:"selectedProtein",type:"protein",component:i}),"advanced"===e.show&&r.a.createElement("button",{className:q(e.theme,"activator"),onClick:function(e){return g(e,i,"protein")}},"add to new dish")))):r.a.createElement(b,{type:"proteins"}):r.a.createElement(v,null)}),{id:"proteins"}),r.a.createElement("h4",{className:q(e.theme,"heading")},"Spices:"),r.a.createElement((function(){var t=Object(n.useState)(null),a=Object(ja.a)(t,2),c=a[0],l=a[1];return i.loading?r.a.createElement(E,null):i.data&&i.data.allSpices?i.data.allSpices.length>0?r.a.createElement("div",{id:"spiceSection",className:"componentContainer"},r.a.createElement("div",{className:"dish"},r.a.createElement("select",{id:"spiceSelector",defaultValue:"default",className:q(e.theme,"formElement"),onChange:function(e){var t=e.target;return l(JSON.parse(t.value))}},r.a.createElement("option",{key:"default",value:"default",disabled:!0},"spices"),i.data.allSpices.map((function(e){return r.a.createElement("option",{key:e.id,value:JSON.stringify(e)},e.name)}))),c&&r.a.createElement("div",{className:"componentContainer"},r.a.createElement(x,{id:"selectedSpice",type:"spice",component:c}),"advanced"===e.show&&r.a.createElement("button",{className:q(e.theme,"activator"),onClick:function(e){return g(e,c,"spice")}},"add to new dish")))):r.a.createElement(b,{type:"spices"}):r.a.createElement(v,null)}),{id:"spices"}),r.a.createElement("h4",{className:q(e.theme,"heading")},"Cooking methods:"),r.a.createElement((function(){var t=Object(n.useState)(null),a=Object(ja.a)(t,2),c=a[0],i=a[1];return l.loading?r.a.createElement(E,null):l.data&&l.data.allMethods?l.data.allMethods.length>0?r.a.createElement("div",{id:"methodSection",className:"componentContainer"},r.a.createElement("div",{className:"dish"},r.a.createElement("select",{id:"methodSelector",defaultValue:"default",className:q(e.theme,"formElement"),onChange:function(e){var t=e.target;return i(JSON.parse(t.value))}},r.a.createElement("option",{key:"default",value:"default",disabled:!0},"cooking methods"),l.data.allMethods.map((function(e){return r.a.createElement("option",{key:e.id,value:JSON.stringify(e)},e.name)}))),c&&r.a.createElement("div",{className:"componentContainer"},r.a.createElement(x,{id:"selectedMethod",type:"method",component:c}),"advanced"===e.show&&r.a.createElement("button",{className:q(e.theme,"activator"),onClick:function(e){return g(e,c,"method")}},"add to new dish")))):r.a.createElement(b,{type:"cooking methods"}):r.a.createElement(v,null)}),{id:"methods"}),"advanced"===e.show&&r.a.createElement((function(){var t=Object(n.useState)("carb"),a=Object(ja.a)(t,2),c=a[0],i=a[1];return r.a.createElement("div",{className:"componentContainer"},r.a.createElement("div",{className:"dish"},r.a.createElement("p",{className:q(e.theme,"heading")},r.a.createElement("strong",null,"Add new...")),r.a.createElement("div",{id:"addComponentSelector",className:"selector"},r.a.createElement("button",{id:"componentSelectCarb",type:"button",onClick:function(){return i("carb")},className:q(e.theme,"carb"===c?"selected":"selector")},"carb"),r.a.createElement("button",{id:"componentSelectProtein",type:"button",onClick:function(){return i("protein")},className:q(e.theme,"protein"===c?"selected":"selector")},"protein"),r.a.createElement("button",{id:"componentSelectSpice",type:"button",onClick:function(){return i("spice")},className:q(e.theme,"spice"===c?"selected":"selector")},"spice"),r.a.createElement("button",{id:"componentSelectMethod",type:"button",onClick:function(){return i("method")},className:q(e.theme,"method"===c?"selected":"selector")},"method")),r.a.createElement(k,{selection:c})))}),{id:"newDishComponent"}),"advanced"===e.show&&r.a.createElement((function(){var t=e.dishyState,a=t.newDish,n=t.newDishCarbs,c=t.newDishProteins,i=t.newDishSpices,l=t.newDishMethods;return r.a.createElement("div",{className:"componentContainer"},r.a.createElement("div",{className:"dish"},r.a.createElement("h4",{className:q(e.theme,"heading")},"Add new dish"),a?r.a.createElement("button",{type:"button",onClick:function(){return C()},id:"newDishDeactivate",className:q(e.theme,"deactivator")},"reset dish"):r.a.createElement("button",{type:"button",onClick:function(){return e.initDish()},id:"newDishActivate",className:q(e.theme,"activator")},"create dish"),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{view:"new",carbs:n,proteins:c,spices:i,methods:l}),r.a.createElement("button",{id:"saveDish",onClick:function(){return j()},type:"button",className:q(e.theme,"activator")},"Save dish"))))}),{id:"newDish"})))})),In=Object(l.b)((function(e){return{appState:e.appState,loginState:e.loginState}}))((function(e){return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},null===e.loginState.user?r.a.createElement((function(){return r.a.createElement("div",{className:"commonElements"},r.a.createElement("p",{className:q(e.appState.theme,"description")},"Some applications are available only for registered and logged users."),r.a.createElement("p",{className:q(e.appState.theme,"description")},"If you want to use these advanced features, please log in."))}),null):r.a.createElement((function(){return r.a.createElement("div",{className:"commonElements"},r.a.createElement("p",{className:q(e.appState.theme,"description")},"Some applications are available only for registered and logged users."),r.a.createElement("p",{className:q(e.appState.theme,"description")},"You have logged in and therefore eligible to use advanced features."))}),null),r.a.createElement(We,{mode:"landing"})))}));function xn(){var e=Object(A.a)(["\n  mutation login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      value\n    }\n  }\n"]);return xn=function(){return e},e}var $n=B()(xn()),Ln={loginFailure:I,loginSuccess:x,switchApp:P,handleInfo:T,handleError:U},Pn=Object(l.b)((function(e){return{theme:e.appState.theme,loginState:e.loginState}}),Ln)((function(e){var t=Object(W.a)(),a=Object(W.b)($n),n=Object(ja.a)(a,1)[0];return e.show?r.a.createElement("div",{className:"app"},localStorage.getItem("rffUserToken")&&r.a.createElement(d.a,{push:!0,to:"/"}),r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"commonElements"},r.a.createElement("input",{id:"loginUsername",type:"text",placeholder:"username",className:q(e.theme,"formElement")}),r.a.createElement("input",{id:"loginPassword",type:"password",placeholder:"password",className:q(e.theme,"formElement")}),r.a.createElement("button",{id:"loginButton",type:"button",onClick:function(){n({errorPolicy:"ignore",variables:{username:document.getElementById("loginUsername").value,password:document.getElementById("loginPassword").value}}).then((function(a){var n,r=a.data;null!==r?(n=r.login.value,t.query({query:J,variables:{token:n.substring(7)}}).then(function(){var t=Object(u.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.getElementById("loginUsername").value="",document.getElementById("loginPassword").value="",localStorage.setItem("rffUserToken",n),t.next=5,e.loginSuccess(a.data.me);case 5:return t.next=7,e.handleInfo("logged in successfully");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())):(document.getElementById("loginPassword").value="",e.handleError("invalid username or password"),e.loginFailure())}))},className:q(e.theme,"formElement")},"login >"),r.a.createElement(p.b,{id:"gotoRegisterButton",to:"/register",onClick:function(){return e.switchApp("Register")},className:q(e.theme,"formElement")},"register >")))):r.a.createElement(d.a,{push:!0,to:"/"})})),Un=a(191),Tn=a.n(Un),Mn={countries:[],countrySearch:"",selected:""},qn=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"search",search:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},An=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"search":return Object(m.a)({},e,{countrySearch:t.search});case"resetSearch":return Object(m.a)({},e,{countrySearch:""});case"setCountries":return Object(m.a)({},e,{countries:t.countries});case"setSelected":return Object(m.a)({},e,{selected:t.selected});case"resetSelected":return Object(m.a)({},e,{selected:""});default:return e}},Rn=a(376),Bn=a(375),Gn=(a(231),function(){function e(t){Object(y.a)(this,e),this.state={name:t.name,numericCode:t.numericCode,topLevelDomain:t.topLevelDomain,alpha2Code:t.alpha2Code,alpha3Code:t.alpha3Code,callingCodes:t.callingCodes,capital:t.capital,altSpellings:t.altSpellings,region:t.region,subregion:t.subregion,population:t.population,timezones:t.timezones,borders:t.borders,nativeName:t.nativeName,currencies:t.currencies,languages:t.languages,flag:t.flag}}return Object(w.a)(e,[{key:"getName",value:function(){return this.state.name}},{key:"getNumericCode",value:function(){return this.state.numericCode}},{key:"getDomain",value:function(){return this.state.topLevelDomain}},{key:"getAlpha2",value:function(){return this.state.alpha2Code}},{key:"getAlpha3",value:function(){return this.state.alpha3Code}},{key:"getCallingCodes",value:function(){return this.state.callingCodes}},{key:"getCapital",value:function(){return this.state.capital}},{key:"getAltSpellings",value:function(){return this.state.altSpellings}},{key:"getRegion",value:function(){return this.state.region}},{key:"getSubregion",value:function(){return this.state.subregion}},{key:"getPopulation",value:function(){return this.state.population}},{key:"getTimezones",value:function(){return this.state.timezones}},{key:"getBorders",value:function(){return this.state.borders}},{key:"getNativeName",value:function(){return this.state.nativeName}},{key:"getCurrencies",value:function(){return this.state.currencies}},{key:"getLanguages",value:function(){return this.state.languages}},{key:"getFlag",value:function(){return this.state.flag}}]),e}());Gn.propTypes={name:D.a.string,numericCode:D.a.string,topLevelDomain:D.a.array,alpha2Code:D.a.string,alpha3Code:D.a.string,callingCodes:D.a.array,capital:D.a.string,altSpellings:D.a.array,region:D.a.string,subRegion:D.a.string,population:D.a.number,timezones:D.a.array,borders:D.a.array,nativeName:D.a.string,currencies:D.a.array,languages:D.a.array,flag:D.a.string};var Fn=Gn,Qn={setSearch:qn},Jn=Object(l.b)((function(e){return{theme:e.appState.theme}}),Qn)((function(e){var t=new Fn(e.country),a=function(){var a=t.getAltSpellings();return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:q(e.theme,"heading")},"Also known as:"),r.a.createElement("ul",null,a.map((function(t){return r.a.createElement("li",{className:q(e.theme,"heading"),key:t},t)}))))},n=function(){var a=t.getBorders();return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:q(e.theme,"heading")},"Borders with:"),r.a.createElement("ul",null,a.map((function(t){return r.a.createElement("li",{className:q(e.theme,"heading"),key:t},t)}))))},c=function(){var a=t.getCallingCodes();return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:q(e.theme,"heading")},"Calling codes:"),r.a.createElement("ul",null,a.map((function(t){return r.a.createElement("li",{className:q(e.theme,"heading"),key:t},t)}))))},i=function(){var a=t.getCurrencies();return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:q(e.theme,"heading")},"Currency:"),r.a.createElement("ul",null,a.map((function(t){return r.a.createElement("li",{className:q(e.theme,"heading"),key:t.name},t.name,", ",t.code,", ",t.symbol)}))))},l=function(){var a=t.getDomain();return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:q(e.theme,"heading")},"Domain extensions:"),r.a.createElement("ul",null,a.map((function(t){return r.a.createElement("li",{className:q(e.theme,"heading"),key:t},t)}))))},s=function(){return r.a.createElement(Rn.a,{size:"medium",src:t.getFlag()})},o=function(){var a=t.getLanguages();return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:q(e.theme,"heading")},"Official languages:"),r.a.createElement("ul",null,a.map((function(t){return r.a.createElement("li",{className:q(e.theme,"heading"),key:t.name},t.name,", ",t.nativeName)}))))},u=function(){var a=t.getTimezones();return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:q(e.theme,"heading")},"Timezones:"),r.a.createElement("ul",null,a.map((function(t){return r.a.createElement("li",{className:q(e.theme,"heading"),key:t},t)}))))};return r.a.createElement("div",{key:t.getNumericCode(),className:"countryContainer",onClick:function(a){return function(a){a.preventDefault(),e.setSearch(t.getName())}(a)}},r.a.createElement((function(){return e.multi?r.a.createElement("div",{className:"countryHeader"},r.a.createElement("h4",{className:q(e.theme,"heading")},r.a.createElement(Bn.a,{name:t.getAlpha2().toLowerCase()})," ",t.getName(),", ",t.getNativeName())):r.a.createElement("div",{className:"countryHeader"},r.a.createElement("h3",{className:q(e.theme,"heading")},r.a.createElement(Bn.a,{name:t.getAlpha2().toLowerCase()})," ",t.getName(),", ",t.getNativeName()))}),null),r.a.createElement((function(){return e.multi?r.a.createElement("div",{className:q(e.theme,"countryDetails")},r.a.createElement("p",{className:q(e.theme,"heading")},"Capital: ",t.getCapital()),r.a.createElement("p",{className:q(e.theme,"heading")},"Region: ",t.getRegion()),r.a.createElement("p",{className:q(e.theme,"heading")},"Subregion: ",t.getSubregion()),r.a.createElement("p",{className:q(e.theme,"heading")},"Population: ",Oa()(t.getPopulation()).format({thousandSeparated:!0})),r.a.createElement("p",{className:q(e.theme,"heading")},"ISO 3166: ",t.getAlpha2(),", ",t.getAlpha3())):r.a.createElement("div",{className:q(e.theme,"countryDetails")},r.a.createElement(a,null),r.a.createElement("p",{className:q(e.theme,"heading")},"Capital: ",t.getCapital()),r.a.createElement("p",{className:q(e.theme,"heading")},"Region: ",t.getRegion()),r.a.createElement("p",{className:q(e.theme,"heading")},"Subregion: ",t.getSubregion()),r.a.createElement("p",{className:q(e.theme,"heading")},"Population: ",Oa()(t.getPopulation()).format({thousandSeparated:!0})),r.a.createElement("p",{className:q(e.theme,"heading")},"ISO 3166: ",t.getAlpha2(),", ",t.getAlpha3()),r.a.createElement(o,null),r.a.createElement(u,null),r.a.createElement(n,null),r.a.createElement(i,null),r.a.createElement(c,null),r.a.createElement(l,null),r.a.createElement(s,null))}),null))})),Wn={setSearch:qn,resetSearch:function(){return function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"resetSearch"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Hn=Object(l.b)((function(e){return{theme:e.appState.theme,countries:e.countryState.countries,countrySearch:e.countryState.countrySearch}}),Wn)((function(e){var t=[];return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement("h5",{className:q(e.theme,"heading")},"Data for ",(e.countrySearch.length,e.countries.length)," countries found."),r.a.createElement("div",{className:"appElements"},r.a.createElement("input",{type:"search",placeholder:"search country by name",onChange:function(t){return function(t){t.preventDefault(),e.setSearch(t.target.value)}(t)},onReset:function(){return e.resetSearch()},value:e.countrySearch,className:q(e.theme,"formElement")}),r.a.createElement("button",{onClick:function(){return e.resetSearch()},title:"reset search",className:q(e.theme,"formElement")},r.a.createElement(H.Icon,{icon:Tn.a}))),r.a.createElement((function(){if(e.countrySearch.length>0){for(var a=0;a<e.countries.length;a++)e.countries[a].name.toLowerCase().includes(e.countrySearch.toLowerCase())&&(t=[].concat(Object(Sn.a)(t),[e.countries[a]]));return t.length>=4?t.map((function(e){return r.a.createElement("div",{key:e.numericCode,className:"countryAppElements"},r.a.createElement(Jn,{key:e.numericCode,multi:!0,country:e}))})):t.length<1?r.a.createElement("div",{className:"countryAppElements"},r.a.createElement("h5",null,"Couldn't find any entries")):t.map((function(e){return r.a.createElement("div",{key:e.numericCode,className:"countryAppElements"},r.a.createElement(Jn,{key:e.numericCode,multi:!1,country:e}))}))}return t=[],e.countries.map((function(e){return r.a.createElement("div",{key:e.numericCode,className:"countryAppElements"},r.a.createElement(Jn,{key:e.numericCode,multi:!0,country:e}))}))}),null)))}));function zn(){var e=Object(A.a)(["\n  mutation addUser($username: String!, $password: String!) {\n    addUser(username: $username, password: $password) {\n      ...UserDetails\n    }\n  }\n  ","\n"]);return zn=function(){return e},e}var _n=B()(zn(),F),Vn={handleError:U,handleInfo:T},Yn=Object(l.b)((function(e){return{theme:e.appState.theme,loginState:e.loginState}}),Vn)((function(e){var t=Object(W.a)(),a=function(){var a=Object(u.a)(o.a.mark((function a(n){var r,c,i;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),r=document.getElementById("regUsername").value,c=document.getElementById("regPassword").value,i=document.getElementById("regConfirm").value,c!==i){a.next=9;break}return a.next=7,t.mutate({mutation:_n,variables:{username:r,password:c},errorPolicy:"ignore"}).then((function(t){null!==t.data?e.handleInfo("".concat(r," registered")):e.handleError("username ".concat(r," is already in use"))}));case 7:a.next=10;break;case 9:e.handleError("passwords do not match");case 10:document.getElementById("regUsername").value="",document.getElementById("regPassword").value="",document.getElementById("regConfirm").value="";case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return e.show?r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"commonElements",onSubmit:function(e){return a(e)}},r.a.createElement("input",{id:"regUsername",type:"text",required:!0,minLength:4,placeholder:"username",className:q(e.theme,"formElement"),autoComplete:!0}),r.a.createElement("input",{id:"regPassword",type:"password",required:!0,minLength:8,placeholder:"password",className:q(e.theme,"formElement")}),r.a.createElement("input",{id:"regConfirm",type:"password",required:!0,minLength:8,placeholder:"re-type password",className:q(e.theme,"formElement")}),r.a.createElement("button",{id:"regButton",type:"submit",className:q(e.theme,"formElement")},"register >")))):r.a.createElement(d.a,{push:!0,to:"/"})})),Kn=(a(343),a(70)),Xn=a.n(Kn),Zn=a(71),er=a.n(Zn);function tr(){var e=Object(A.a)(["\n    fragment GroupListDetails on GroupList {\n        title\n        listType\n        removable\n        id\n        group {\n            title\n            id\n        }\n    }\n"]);return tr=function(){return e},e}var ar=B()(tr());function nr(){var e=Object(A.a)(["\n  query groupLists($token: String!) {\n    groupLists(token: $token) {\n      ...GroupListDetails\n    }\n  }\n  ","\n"]);return nr=function(){return e},e}var rr=B()(nr(),ar);function cr(){var e=Object(A.a)(["\n    fragment PrivateListDetails on PrivateList {\n        title\n        listType\n        removable\n        id\n        owner {\n            username\n            id\n        }\n    }\n"]);return cr=function(){return e},e}var ir=B()(cr());function lr(){var e=Object(A.a)(["\n  query privateLists($token: String!) {\n    privateLists(token: $token) {\n      ...PrivateListDetails\n    }\n  }\n  ","\n"]);return lr=function(){return e},e}var sr=B()(lr(),ir);function or(){var e=Object(A.a)(["\n  subscription {\n    ...GroupListDetails\n  }\n  ","\n"]);return or=function(){return e},e}var ur=B()(or(),ar);function mr(){var e=Object(A.a)(["\n  subscription {\n    ...PrivateListDetails\n  }\n  ","\n"]);return mr=function(){return e},e}var dr=B()(mr(),ir);function pr(){var e=Object(A.a)(["\n  subscription {\n    ...GroupListDetails\n  }\n  ","\n"]);return pr=function(){return e},e}var hr=B()(pr(),ar);function fr(){var e=Object(A.a)(["\n  subscription {\n    ...PrivateListDetails\n  }\n  ","\n"]);return fr=function(){return e},e}var Er=B()(fr(),ir);function vr(){var e=Object(A.a)(["\n  query groups($token: String!) {\n    groups(token: $token) {\n      ...GroupDetails\n    }\n  }\n  ","\n"]);return vr=function(){return e},e}var br=B()(vr(),wt);function gr(){var e=Object(A.a)(["\n  mutation addListGroup($token: String!, $title: String!, $group: String!) {\n    addListGroup(token: $token, title: $title, group: $group) {\n      ...GroupListDetails\n    }\n  }\n  ","\n"]);return gr=function(){return e},e}var Nr=B()(gr(),ar);function kr(){var e=Object(A.a)(["\n  mutation addListPrivate($token: String!, $title: String!) {\n    addListPrivate(token: $token, title: $title) {\n      ...PrivateListDetails\n    }\n  }\n  ","\n"]);return kr=function(){return e},e}var yr=B()(kr(),ir);function wr(){var e=Object(A.a)(["\n  fragment TaskDetails on Task {\n    task\n    active\n    priority\n    creator {\n      ...UserDetails\n    }\n    listID\n    id\n  }\n  ","\n"]);return wr=function(){return e},e}var Sr=B()(wr(),F);function Dr(){var e=Object(A.a)(["\n  query tasks($token: String!, $listID: String!) {\n    tasks(token: $token, listID: $listID) {\n      ...TaskDetails\n    }\n  }\n  ","\n"]);return Dr=function(){return e},e}var jr=B()(Dr(),Sr),Cr=a(200),Or=a.n(Cr),Ir=a(201),xr=a.n(Ir),$r=a(122),Lr=a.n($r),Pr=a(123),Ur=a.n(Pr);function Tr(){var e=Object(A.a)(["\n  subscription {\n    taskAdded {\n      ...TaskDetails\n    }\n  }\n  ","\n"]);return Tr=function(){return e},e}var Mr=B()(Tr(),Sr);function qr(){var e=Object(A.a)(["\n  subscription {\n    taskUpdated {\n      ...TaskDetails\n    }\n  }\n  ","\n"]);return qr=function(){return e},e}var Ar=B()(qr(),Sr);function Rr(){var e=Object(A.a)(["\n  subscription {\n    taskRemoved {\n      ...TaskDetails\n    }\n  }\n  ","\n"]);return Rr=function(){return e},e}var Br=B()(Rr(),Sr);function Gr(){var e=Object(A.a)(["\n  mutation addTask($token: String!, $task: String!, $listID: String!, $priority: Boolean!) {\n    addTask(token: $token, task: $task, listID: $listID, priority: $priority) {\n      ...TaskDetails\n    }\n  }\n  ","\n"]);return Gr=function(){return e},e}var Fr=B()(Gr(),Sr);function Qr(){var e=Object(A.a)(["\n  mutation taskPriority($token: String!, $id: String!, $priority: Boolean!) {\n    taskPriority(token: $token, id: $id, priority: $priority) {\n      ...TaskDetails\n    }\n  }\n  ","\n"]);return Qr=function(){return e},e}var Jr=B()(Qr(),Sr);function Wr(){var e=Object(A.a)(["\n  mutation taskDeactivation($token: String!, $id: String!) {\n    taskDeactivation(token: $token, id: $id) {\n      ...TaskDetails\n    }\n  }\n  ","\n"]);return Wr=function(){return e},e}var Hr=B()(Wr(),Sr);function zr(){var e=Object(A.a)(["\n  mutation taskActivation($token: String!, $id: String!) {\n    taskActivation(token: $token, id: $id) {\n      ...TaskDetails\n    }\n  }\n  ","\n"]);return zr=function(){return e},e}var _r=B()(zr(),Sr);function Vr(){var e=Object(A.a)(["\n  mutation removeTask($token: String!, $id: String!) {\n    removeTask(token: $token, id: $id) {\n      ...TaskDetails\n    }\n  }\n  ","\n"]);return Vr=function(){return e},e}var Yr=B()(Vr(),Sr),Kr={handleError:U,handleInfo:T},Xr=Object(l.b)((function(e){return{theme:e.appState.theme,user:e.loginState.user}}),Kr)((function(e){var t=Object(W.a)(),a=e.list,c=localStorage.getItem("rffUserToken").substring(7),i=Object(n.useState)(!1),l=Object(ja.a)(i,2),s=l[0],m=l[1],d=Object(W.c)(jr,{variables:{token:c,listID:a.id}}),p=d.data,h=d.loading,f=d.error,E=d.refetch,v=function(){var a=Object(u.a)(o.a.mark((function a(n,r){var i,l;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=function(e,t){return e.map((function(e){return e.id})).includes(t.id)},a.next=3,t.readQuery({query:jr,variables:{listID:r.listID,token:c}});case 3:l=a.sent,a.t0=n,a.next="added"===a.t0?7:"updated"===a.t0?12:"removed"===a.t0?17:22;break;case 7:if(i(l.tasks,r)){a.next=11;break}return a.next=10,E();case 10:e.handleInfo("Task added: ".concat(r.task));case 11:return a.abrupt("break",23);case 12:if(!i(l.tasks,r)){a.next=16;break}return a.next=15,E();case 15:e.handleInfo("Task updated: ".concat(r.task));case 16:return a.abrupt("break",23);case 17:if(!i(l.tasks,r)){a.next=21;break}return a.next=20,E();case 20:e.handleInfo("Task removed: ".concat(r.task));case 21:case 22:return a.abrupt("break",23);case 23:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}();Object(W.d)(Mr,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.taskAdded;v("added",t)}}),Object(W.d)(Ar,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.taskUpdated;v("updated",t)}}),Object(W.d)(Br,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.taskRemoved;v("removed",t)}});var b=function(){var a=Object(u.a)(o.a.mark((function a(n,r){var i;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i={token:c,listID:n,task:document.getElementById("newTask").value,priority:r},!c){a.next=4;break}return a.next=4,t.mutate({mutation:Fr,variables:i}).then((function(t){var a=t.data,n=t.errors;null!==a?v("added",a.addTask):e.handleError(n[0].message)}));case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),g=function(){var a=Object(u.a)(o.a.mark((function a(n){var r,i,l;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.id,i=n.priority,l={token:c,id:r,priority:!i},a.next=4,t.mutate({mutation:Jr,variables:l}).then((function(t){var a=t.data,n=t.errors;null!==a?v("updated",a.taskPriority):e.handleError(n[0].message)}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),N=function(){var a=Object(u.a)(o.a.mark((function a(n){var r,i,l;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.id,i=n.active,l={token:c,id:r},a.next=4,t.mutate({mutation:i?Hr:_r,variables:l}).then((function(t){var a=t.data,n=t.errors;null!==a?v("updated",i?a.taskDeactivation:a.taskActivation):e.handleError(n[0].message)}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),k=function(){var a=Object(u.a)(o.a.mark((function a(n){var r,i;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.id,i={token:c,id:r},a.next=4,t.mutate({mutation:Yr,variables:i}).then((function(t){var a=t.data,n=t.errors;null!==a?v("removed",a.removeTask):e.handleError(n[0].message)}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),y=function(e){return e.flagged?r.a.createElement("p",{className:"flagged"},"priority ",r.a.createElement(H.InlineIcon,{icon:Lr.a})):r.a.createElement("p",{className:"flagged"},"non priority ",r.a.createElement(H.InlineIcon,{icon:Ur.a}))},w=function(){return r.a.createElement("div",{className:"listContainer"},r.a.createElement(S,{status:"empty",task:{task:"no tasks"}}))},S=function(t){var a=t.task,n=t.status;return"error"===n||"loading"===n||"empty"===n?r.a.createElement("td",{className:q(e.theme,"tableCell")},a.task):r.a.createElement("tr",{className:q(e.theme,"tableRow")},r.a.createElement("td",{className:q(e.theme,"tableCell")},a.task),r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement((function(e){return e.flagged?r.a.createElement(H.InlineIcon,{icon:Lr.a}):r.a.createElement(H.InlineIcon,{icon:Ur.a})}),{flagged:a.priority})),r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("button",{className:a.priority?q(e.theme,"deactivator"):q(e.theme,"activator"),onClick:function(){return g(a)}},a.priority?"priority off":"priority on")),r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("button",{className:a.active?q(e.theme,"deactivator"):q(e.theme,"activator"),onClick:function(){return N(a)}},a.active?"done":"undone")),r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("button",{className:q(e.theme,"deactivator"),onClick:function(){return k(a)}},"remove")))};return r.a.createElement("div",{id:"".concat(a.id),className:"listContainer"},r.a.createElement("div",{className:"componentContainer"},r.a.createElement("div",{className:"component"},r.a.createElement("strong",null,r.a.createElement("p",{className:q(e.theme,"text")},r.a.createElement(H.InlineIcon,{icon:"PrivateList"===a.listType?Or.a:xr.a})," ",a.title))),r.a.createElement("button",{id:"".concat(a.id,":listExpander"),title:s?"hide list":"show list",onClick:function(){return m(!s)},className:q(e.theme,s?"deactivator":"activator")},s?r.a.createElement(H.InlineIcon,{icon:Xn.a}):r.a.createElement(H.InlineIcon,{icon:er.a}))),p&&s&&r.a.createElement("div",{className:"componentContainer"},r.a.createElement("div",{className:"taskList"},r.a.createElement((function(t){var a=t.list,c=Object(n.useState)(!1),i=Object(ja.a)(c,2),l=i[0],s=i[1],o=Object(n.useState)(!1),u=Object(ja.a)(o,2),m=u[0],d=u[1];return r.a.createElement("div",{id:"newTaskForm"},r.a.createElement("div",{className:"componentContainer"},r.a.createElement("div",{className:"component"},r.a.createElement("p",{className:q(e.theme,"text")},"Add new task")),r.a.createElement("button",{title:l?"close form":"open form",id:"taskFormActivator",onClick:function(){return s(!l)},className:q(e.theme,l?"deactivator":"activator")},l?r.a.createElement(H.InlineIcon,{icon:Xn.a}):r.a.createElement(H.InlineIcon,{icon:er.a}))),l&&r.a.createElement("table",{className:q(e.theme,"table")},r.a.createElement("thead",null,r.a.createElement("tr",{className:q(e.theme,"tableRow")},r.a.createElement("th",{className:q(e.theme,"tableCell")},"list"),r.a.createElement("th",{className:q(e.theme,"tableCell")},"task"),r.a.createElement("th",{className:q(e.theme,"tableCell")},"priority"),r.a.createElement("th",{className:q(e.theme,"tableCell")}," "))),r.a.createElement("tbody",null,r.a.createElement("tr",{className:q(e.theme,"tableRow")},r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("strong",null,a.title)),r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("input",{required:!0,minLength:2,id:"newTask",className:q(e.theme,"formElement"),placeholder:"new task"})),r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("button",{id:"newTaskPriority",type:"button",className:q(e.theme,"formElement"),onClick:function(){return d(!m)}},r.a.createElement(y,{flagged:m}))),r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("button",{type:"button",className:q(e.theme,"activator"),onClick:function(){return b(a.id,m)}},"save list"))))))}),{list:a}),r.a.createElement((function(t){var a=t.tasks;return a.length>0?r.a.createElement("table",{className:q(e.theme,"table")},r.a.createElement("thead",null,r.a.createElement("tr",{className:q(e.theme,"tableRow")},r.a.createElement("th",{className:q(e.theme,"tableCell")},"task"),r.a.createElement("th",{className:q(e.theme,"tableCell")},"priority"),r.a.createElement("th",{className:q(e.theme,"tableCell")},"change priority"),r.a.createElement("th",{className:q(e.theme,"tableCell")},"mark done"),r.a.createElement("th",{className:q(e.theme,"tableCell")}," "))),r.a.createElement("tbody",null,a.map((function(e){return r.a.createElement(S,{key:e.id,status:"data",task:e})})))):r.a.createElement(w,null)}),{tasks:p.tasks}))),f&&r.a.createElement("div",{className:"componentContainer"},r.a.createElement("div",{className:"taskList"},r.a.createElement((function(){return r.a.createElement("div",{className:"listContainer"},r.a.createElement(S,{status:"error",task:{task:"error occurred"}}))}),null))),h&&r.a.createElement("div",{className:"componentContainer"},r.a.createElement("div",{className:"taskList"},r.a.createElement((function(){return r.a.createElement("div",{className:"listContainer"},r.a.createElement(S,{status:"loading",task:{task:"loading tasks"}}))}),null))))})),Zr={handleError:U,handleInfo:T},ec=Object(l.b)((function(e){return{theme:e.appState.theme,user:e.loginState.user,tasker:e.taskerState}}),Zr)((function(e){var t=localStorage.getItem("rffUserToken").substring(7),a=Object(W.a)(),c=Object(W.c)(sr,{variables:{token:t}}),i=Object(W.c)(rr,{variables:{token:t}});Object(W.d)(dr,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.listAddedPrivate;s("added",t)}}),Object(W.d)(Er,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.listRemovedPrivate;s("removed",t)}}),Object(W.d)(ur,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.listAddedGroup;m("added",t)}}),Object(W.d)(hr,{fetchPolicy:"",onSubscriptionData:function(e){var t=e.subscriptionData.data.listRemovedGroup;m("removed",t)}});var l=function(){var n=Object(u.a)(o.a.mark((function n(r,c){var i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("GroupList"!==c){n.next=6;break}return i={token:t,group:r,title:document.getElementById("newGrouplistTitle").value},n.next=4,a.mutate({mutation:Nr,variables:i,errorPolicy:"ignore"}).then((function(t){var a=t.data;null!==a?(m("added",a.addListGroup),document.getElementById("newGrouplistTitle").value=""):e.handleError("Error occurred with list: cannot add ".concat(i.title))}));case 4:n.next=9;break;case 6:return i={token:t,title:document.getElementById("newPrivatelistTitle").value},n.next=9,a.mutate({mutation:yr,variables:i,errorPolicy:"ignore"}).then((function(t){var a=t.data;null!==a?(s("added",a.addListPrivate),document.getElementById("newPrivatelistTitle").value=""):e.handleError("Error occurred with list: cannot add ".concat(i.title))}));case 9:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),s=function(){var n=Object(u.a)(o.a.mark((function n(r,i){var l,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l=function(e,t){return e.map((function(e){return e.id})).includes(t.id)},n.next=3,a.readQuery({query:sr,variables:{token:t}});case 3:s=n.sent,n.t0=r,n.next="added"===n.t0?7:"updated"===n.t0?12:"removed"===n.t0?17:22;break;case 7:if(l(s.privateLists,i)){n.next=11;break}return n.next=10,c.refetch();case 10:e.handleInfo("List added: ".concat(i.title));case 11:return n.abrupt("break",23);case 12:if(!l(s.privateLists,i)){n.next=16;break}return n.next=15,c.refetch();case 15:e.handleInfo("List updated: ".concat(i.title));case 16:return n.abrupt("break",23);case 17:if(!l(s.privateLists,i)){n.next=21;break}return n.next=20,c.refetch();case 20:e.handleInfo("List removed: ".concat(i.title));case 21:case 22:return n.abrupt("break",23);case 23:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),m=function(){var n=Object(u.a)(o.a.mark((function n(r,c){var l,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l=function(e,t){return e.map((function(e){return e.id})).includes(t.id)},n.next=3,a.readQuery({variables:{token:t},query:rr});case 3:s=n.sent,n.t0=r,n.next="added"===n.t0?7:"updated"===n.t0?12:"removed"===n.t0?17:22;break;case 7:if(l(s.groupLists,c)){n.next=11;break}return n.next=10,i.refetch();case 10:e.handleInfo("List added: ".concat(c.title));case 11:return n.abrupt("break",23);case 12:if(!l(s.groupLists,c)){n.next=16;break}return n.next=15,i.refetch();case 15:e.handleInfo("List updated: ".concat(c.title));case 16:return n.abrupt("break",23);case 17:if(!l(s.groupLists,c)){n.next=21;break}return n.next=20,i.refetch();case 20:e.handleInfo("List removed: ".concat(c.title));case 21:case 22:return n.abrupt("break",23);case 23:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),p=function(t){var a=t.type;return r.a.createElement("div",{className:"taskList"},r.a.createElement("p",{className:q(e.theme,"tileDescription")},"no accessible ",a," lists"))},h=function(t){var a=t.type;return r.a.createElement("div",{className:"taskList"},r.a.createElement("p",{className:q(e.theme,"tileError")},"error occurred while loading ",a," lists"))},f=function(t){var a=t.type;return r.a.createElement("div",{className:"taskList"},r.a.createElement("p",{className:q(e.theme,"tileLoading")},"loading ",a," lists"))},E=function(){var t=c.data,a=c.error,n=c.loading;return r.a.createElement("div",{id:"privateLists",className:"taskList"},r.a.createElement("h4",{className:q(e.theme,"listHeader")},"Accessible private lists:"),r.a.createElement("div",{className:"taskList"},r.a.createElement(b,{listType:"private"}),t&&t.privateLists.length>0?r.a.createElement(r.a.Fragment,null,t.privateLists.map((function(e){return r.a.createElement(Xr,{key:"privateList:".concat(e.id),list:e})}))):r.a.createElement(p,{type:"private"})),a&&r.a.createElement(h,{type:"private"}),n&&r.a.createElement(f,{type:"private"}))},v=function(){var t=i.data,a=i.error,n=i.loading;return r.a.createElement("div",{id:"groupLists",className:"taskList"},r.a.createElement("h4",{className:q(e.theme,"heading")},"Accessible group lists:"),r.a.createElement("div",{className:"taskList"},r.a.createElement(b,{listType:"group"}),t&&t.groupLists.length>0?r.a.createElement(r.a.Fragment,null,t.groupLists.map((function(e){return r.a.createElement(Xr,{key:"groupList:".concat(e.id),list:e})}))):r.a.createElement(p,{type:"group"})),n&&r.a.createElement(f,{type:"group"}),a&&r.a.createElement(h,{type:"group"}))},b=function(a){var c=a.listType,i=Object(n.useState)(!1),s=Object(ja.a)(i,2),o=s[0],u=s[1],m=Object(W.c)(br,{variables:{token:t}}),d=m.data,p=m.loading,h=m.error;return r.a.createElement("div",{id:"newListForm_".concat(c)},r.a.createElement("div",{className:"componentContainer"},r.a.createElement("div",{className:"component"},r.a.createElement("p",{className:q(e.theme,"text")},"Add new ",c," list")),r.a.createElement("button",{title:o?"close form":"open form",id:"listFormActivator_".concat(c),onClick:function(){return u(!o)},className:q(e.theme,o?"deactivator":"activator")},o?r.a.createElement(H.InlineIcon,{icon:Xn.a}):r.a.createElement(H.InlineIcon,{icon:er.a}))),h&&r.a.createElement((function(){return r.a.createElement("div",{className:"component"},r.a.createElement("p",{className:q(e.theme,"tileError")},"error occurred"))}),null),p&&r.a.createElement((function(){return r.a.createElement("div",{className:"component"},r.a.createElement("p",{className:q(e.theme,"tileLoading")},"loading . . ."))}),null),o&&d&&r.a.createElement("div",{className:"componentContainer"},r.a.createElement("div",{className:"taskList"},"group"===c&&r.a.createElement((function(){var t=Object(n.useState)(null),a=Object(ja.a)(t,2),i=a[0],s=a[1];return r.a.createElement("div",{className:"taskList"},"group"===c&&r.a.createElement("select",{id:"groupSelector",defaultValue:"default",className:q(e.theme,"formElement"),onChange:function(e){var t=e.target;return s(JSON.parse(t.value))}},r.a.createElement("option",{key:"default",value:"default",disabled:!0},"groups"),d.groups.map((function(e){return r.a.createElement("option",{key:e.id,value:JSON.stringify(e)},e.title)}))),null!==i&&r.a.createElement("table",{className:q(e.theme,"table")},r.a.createElement("thead",null,r.a.createElement("tr",{className:q(e.theme,"tableRow")},r.a.createElement("th",{className:q(e.theme,"tableCell")},"group"),r.a.createElement("th",{className:q(e.theme,"tableCell")},"title"),r.a.createElement("th",{className:q(e.theme,"tableCell")}," "))),r.a.createElement("tbody",null,r.a.createElement("tr",{className:q(e.theme,"tableRow")},r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("strong",null,i.title)),r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("input",{required:!0,minLength:2,id:"newGrouplistTitle",className:q(e.theme,"formElement"),placeholder:"new list title"})),r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("button",{type:"button",className:q(e.theme,"activator"),onClick:function(){return l(i.id,"GroupList")}},"save list"))))))}),null),"group"!==c&&r.a.createElement((function(){return r.a.createElement("table",{className:q(e.theme,"table")},r.a.createElement("thead",null,r.a.createElement("tr",{className:q(e.theme,"tableRow")},r.a.createElement("th",{className:q(e.theme,"tableCell")},"user"),r.a.createElement("th",{className:q(e.theme,"tableCell")},"title"),r.a.createElement("th",{className:q(e.theme,"tableCell")}," "))),r.a.createElement("tbody",null,r.a.createElement("tr",{className:q(e.theme,"tableRow")},r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("strong",null,e.user.getUsername())),r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("input",{required:!0,minLength:2,className:q(e.theme,"formElement"),placeholder:"new list title",id:"newPrivatelistTitle"})),r.a.createElement("td",{className:q(e.theme,"tableCell")},r.a.createElement("button",{type:"button",className:q(e.theme,"activator"),onClick:function(){return l(null,"PrivateList")}},"save list")))))}),null))))};return e.show?r.a.createElement("div",{className:"app"},r.a.createElement((function(){return r.a.createElement("div",{className:"container"},e.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement(v,null)):r.a.createElement("p",{className:q(e.theme,"tileError")},"login needed"))}),null)):r.a.createElement(d.a,{push:!0,to:"/"})})),tc=(a(344),a(5),Object(l.b)((function(e){return{theme:e.appState.theme,user:e.loginState.user}}),{})((function(e){Object(W.a)();return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement("h5",{className:q(e.theme,"heading")},"Tracked stops:"),r.a.createElement("p",{className:q(e.theme,"text")},"This feature will be added later")))}))),ac=a(202),nc=a.n(ac),rc={getCountries:function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nc.a.get("https://restcountries.eu/rest/v2/all");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},cc={loginFailure:I,loginSuccess:x,switchApp:P,handleInfo:T,handleError:U},ic=Object(l.b)((function(e){return{theme:e.appState.theme,user:e.loginState.user}}),cc)((function(e){var t=Object(W.a)(),a=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:q(e.theme,"description")},"User: ",r.a.createElement("strong",null,e.user.getUsername())),r.a.createElement("p",{className:q(e.theme,"description")},"Role: ",r.a.createElement("strong",null,e.user.getRole())),r.a.createElement("p",{className:q(e.theme,"description")},"Active: ",r.a.createElement("strong",null,e.user.getActive()?"true":"false")),r.a.createElement("p",{className:q(e.theme,"description")},"Removable: ",r.a.createElement("strong",null,e.user.getRemovable()?"true":"false")),r.a.createElement("p",{className:q(e.theme,"description")},"ID: ",r.a.createElement("strong",null,e.user.getId())))},n=function(){return r.a.createElement("form",{className:"appContainer",onSubmit:function(e){return l(e)}},r.a.createElement("input",{id:"changeUsernamePW",type:"password",required:!0,placeholder:"password",className:q(e.theme,"formElement")}),r.a.createElement("input",{id:"changeUsernameNew",type:"text",required:!0,placeholder:"new username",className:q(e.theme,"formElement")}),r.a.createElement("button",{type:"submit",className:q(e.theme,"formElement")},"change username"))},c=function(){return r.a.createElement("form",{className:"appContainer",onSubmit:function(e){return i(e)}},r.a.createElement("input",{id:"changePasswordOld",type:"password",required:!0,placeholder:"old password",className:q(e.theme,"formElement")}),r.a.createElement("input",{id:"changePasswordNew",type:"password",required:!0,placeholder:"new password",className:q(e.theme,"formElement")}),r.a.createElement("input",{id:"changePasswordConfirm",type:"password",required:!0,placeholder:"retype new password",className:q(e.theme,"formElement")}),r.a.createElement("button",{type:"submit",className:q(e.theme,"formElement")},"change password"))},i=function(){var a=Object(u.a)(o.a.mark((function a(n){var r,c,i;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),r=document.getElementById("changePasswordOld").value,c=document.getElementById("changePasswordNew").value,i=document.getElementById("changePasswordConfirm").value,c!==i){a.next=9;break}return a.next=7,t.mutate({mutation:nt,variables:{token:localStorage.getItem("rffUserToken").toString().substring(7),password:r,newPassword:c===i&&c}}).then((function(a,n){n?e.handleError(n[0]):t.mutate({mutation:$n,variables:{username:e.user.username,password:c}}).then((function(a,n){if(n)e.handleError(n[0]);else{var r=a.data.login.value;t.query({query:J,variables:{token:r.substring(7)}}).then((function(t,a){a?(e.loginFailure(),e.handleError(a[0])):(localStorage.setItem("rffUserToken",r),e.loginSuccess(t.data.me),e.handleInfo("login renewed"))}))}}))}));case 7:a.next=10;break;case 9:e.handleError({message:"New passwords do not match"});case 10:document.getElementById("changePasswordOld").value="",document.getElementById("changePasswordNew").value="",document.getElementById("changePasswordConfirm").value="";case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),l=function(){var a=Object(u.a)(o.a.mark((function a(n){var r,c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),r=document.getElementById("changeUsernamePW").value,c=document.getElementById("changeUsernameNew").value,a.next=5,t.mutate({mutation:nt,variables:{token:localStorage.getItem("rffUserToken").toString().substring(7),password:r,newUsername:c}}).then((function(a,n){n||t.mutate({mutation:$n,variables:{username:c,password:r}}).then((function(a,n){if(n)e.handleError(n[0]);else{var r=a.data.login.value;t.query({query:J,variables:{token:r.substring(7)}}).then((function(t,a){a?(e.loginFailure(),e.handleError(a[0])):(localStorage.setItem("rffUserToken",r),e.loginSuccess(t.data.me),e.handleInfo("login renewed"))}))}}))}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return e.show?r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement((function(){return r.a.createElement("div",{className:"commonElements"},r.a.createElement("h5",{className:q(e.theme,"heading")},"User information"),r.a.createElement(a,null),r.a.createElement("br",null),r.a.createElement("h5",{className:q(e.theme,"heading")},"Change password"),r.a.createElement(c,null),r.a.createElement("br",null),r.a.createElement("h5",{className:q(e.theme,"heading")},"Change username"),r.a.createElement(n,null))}),null))):r.a.createElement(d.a,{push:!0,to:"/"})})),lc={initCountries:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"setCountries",countries:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},switchApp:P,loginSuccess:x,handleError:U,handleInfo:T},sc=new N.a({uri:"wss://kettula.herokuapp.com/graphql",options:{reconnect:!0}}),oc=Object(f.a)({uri:"https://kettula.herokuapp.com/graphql"}),uc=Object(v.a)((function(e,t){var a=t.headers,n=localStorage.getItem("rffUserToken");return{headers:Object(m.a)({},a,{authorization:n||null})}})),mc=Object(g.d)((function(e){var t=e.query,a=Object(k.l)(t),n=a.kind,r=a.operation;return"OperationDefinition"===n&&"subscription"===r}),sc,uc.concat(oc)),dc=Object(f.a)({uri:"https://api.digitransit.fi/routing/v1/routers/hsl/index/graphql"}),pc=new h.a({link:mc,cache:new E.a,connectToDevTools:!1}),hc=new h.a({link:dc,cache:new E.a,connectToDevTools:!1}),fc=Object(l.b)((function(e){return{theme:e.appState.theme,app:e.appState.application,dishyState:e.dishyState,loginState:e.loginState}}),lc)((function(e){var t=localStorage.getItem("rffUserToken");Object(n.useEffect)((function(){document.body.className=e.theme})),Object(n.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rc.getCountries().then((function(t){e.initCountries(t.data)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(n.useEffect)((function(){null!==t&&pc.query({query:J,variables:{token:t.substring(7)}}).then((function(t,a){a?e.handleError(a[0]):(e.loginSuccess(t.data.me),e.handleInfo("Login restored"))}))}),[t,pc]);return r.a.createElement("div",{className:"appContainer"},r.a.createElement(p.a,{basename:"/"},r.a.createElement(b.a,{client:pc},r.a.createElement(_,null),r.a.createElement((function(){var a=e.loginState.user;return r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(In,Object.assign({},e,{show:!0}))}}),r.a.createElement(d.b,{path:"/about",render:function(e){return r.a.createElement(Da,Object.assign({},e,{show:!0}))}}),r.a.createElement(d.b,{path:"/admin",render:function(e){return r.a.createElement(Qt,Object.assign({},e,{show:null!==t&&null!==a&&("admin"===a.getRole()||"owner"===a.getRole())}))}}),r.a.createElement(d.b,{path:"/calculate",render:function(e){return r.a.createElement(Ia,Object.assign({},e,{show:!0}))}}),r.a.createElement(d.b,{path:"/countries",render:function(e){return r.a.createElement(Hn,Object.assign({},e,{show:!0}))}}),r.a.createElement(d.b,{path:"/dashboard",render:function(e){return r.a.createElement(xa,Object.assign({},e,{show:null!==t?"advanced":"common"}))}}),r.a.createElement(d.b,{path:"/dishy",render:function(e){return r.a.createElement(On,Object.assign({},e,{show:null!==t?"advanced":"common"}))}}),r.a.createElement(d.b,{path:"/login",render:function(e){return r.a.createElement(Pn,Object.assign({},e,{show:null===t}))}}),r.a.createElement(d.b,{path:"/register",render:function(e){return r.a.createElement(Yn,Object.assign({},e,{show:null===t}))}}),r.a.createElement(d.b,{path:"/tasker",render:function(e){return r.a.createElement(ec,Object.assign({},e,{show:null!==t}))}}),r.a.createElement(d.b,{path:"/user",render:function(e){return r.a.createElement(ic,Object.assign({},e,{show:null!==t}))}}))}),null)),r.a.createElement(b.a,{client:hc},r.a.createElement((function(){return r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/transit",render:function(e){return r.a.createElement(tc,e)}}))}),null))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ec=a(54),vc=a(205),bc=a(206),gc={newUserName:"",newUserUsername:"",newUserPassword:"",confirmNewUserPassword:""},Nc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setNewUserName":return Object(m.a)({},e,{newUserName:t.name});case"setNewUserUsername":return Object(m.a)({},e,{newUserUsername:t.username});case"setNewUserPassword":return Object(m.a)({},e,{newUserPassword:t.password});case"setConfirmNewUserPassword":return Object(m.a)({},e,{confirmNewUserPassword:t.password});case"successfulReg":return Object(m.a)({},gc);case"unsuccessfulReg":return Object(m.a)({},e,{newUserPassword:"",confirmNewUserPassword:""});case"resetReg":return Object(m.a)({},gc);default:return e}},kc=Object(Ec.combineReducers)({appState:M,countryState:An,loginState:$,regState:Nc,dishyState:jn}),yc=Object(Ec.createStore)(kc,Object(bc.composeWithDevTools)(Object(Ec.applyMiddleware)(vc.a)));i.a.render(r.a.createElement(l.a,{store:yc},r.a.createElement(fc,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},5:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){}},[[215,1,2]]]);
//# sourceMappingURL=main.5f9ebf02.chunk.js.map